{"hash":"99879be177eb70bfb40ba40c80d07a5709d5c00f","data":{"course":{"id":"cbdcc97f218f37ad818088dbb8935a07","courseID":2,"title":"Lesson #3, Remote controlled and programmed motion","description":"In the second lesson you will learn how to use Spot Command services and walk with Spot.","content":"\n<section class=\"container__reg\">\n\n## What's this about\n\nIn the second lesson you will learn how to use Spot Command services and walk with Spot.\n\n</section>\n\n\n<section class=\"container__reg\">\n\n## The challenge\n\nYou have a list of points with their local coordinates in the <code>/home/student/lessons</code> directory.\n\nThe list of moves:\n\n<List>\n<li>To turn around himself</li>\n<li>To nod</li>\n<li>To change the stance of robot's legs</li>\n<li>To go sideways to the next point</li>\n<li>To lie down on pose to change battery (this command must be performed the last because it cuts the power to the motors).</li>\n</List>\n\n<br>\n\nCreate and execute a Python script that implements behavior described. You can find Spot local coordinates with (before you need to create <code>state_client</code>, you can find information about it in [Understanding Spot Programming](https://dev.bostondynamics.com/docs/python/understanding_spot_programming)):\n\n\n<lessonCodeWrapper language=\"python\" codeClass=\"big-code\">\nfrom bosdyn.client.frame_helpers import get_vision_tform_body\nget_vision_tform_body(state_client.get_robot_state().kinematic_state.transforms_snapshot\n</lessonCodeWrapper>\n\n</section>\n\n<section class=\"container__reg\">\n\n## Instructions\n\n<List type=\"numbers\">\n\n<li>\n\nYou can control Spot with <code>Robot Command Service</code>. Firstly you need to build a command to supply it to the command service. Spot SDK has a <code>RobotCommandBuilder</code> class for it.\n\nFull list of methods and its descriptions you can find [here](https://github.com/boston-dynamics/spot-sdk/blob/7ce5c5f31f4e1e45e9ff4be29fb097e258b75919/python/bosdyn-client/src/bosdyn/client/robot_command.py#L593). In this lesson you may need to use:\n\n\\- Stand Command \n\n<lessonCodeWrapper language=\"python\" codeClass=\"big-code\">\ndef stand_command(params=None, body_height=0.0, footprint_R_body=geometry.EulerZXY())\n</lessonCodeWrapper>\n\n\\- Go to point \n\n<lessonCodeWrapper language=\"python\" codeClass=\"big-code\">\ndef synchro_se2_trajectory_point_command(goal_x, goal_y, goal_heading, frame_name, params=None, body_height=0.0, locomotion_hint=spot_command_pb2.HINT_AUTO, build_on_command=None)\n</lessonCodeWrapper>\n\nCheck usage [here](https://github.com/boston-dynamics/spot-sdk/blob/master/python/examples/frame_trajectory_command/frame_trajectory_command.py).\n\nAttention! The example considers robot movement relative to the current position. In your case you must specify movements relative to the point where robot was turned on. That means you can set <code>goal_x</code> and  <code>goal_y</code> values from the task.\n\n\\- Velocity Command\n\n<lessonCodeWrapper language=\"python\" codeClass=\"big-code\">\ndef synchro_velocity_command(v_x, v_y, v_rot, params=None, body_height=0.0, locomotion_hint=spot_command_pb2.HINT_AUTO, frame_name=BODY_FRAME_NAME\n</lessonCodeWrapper>\n\n\\- Stance Command\n\n<lessonCodeWrapper language=\"python\" codeClass=\"big-code\">\ndef stance_command(se2_frame_name, pos_fl_rt_frame, pos_fr_rt_frame, pos_hl_rt_frame, pos_hr_rt_frame, accuracy=0.05, params=None, body_height=0.0, footprint_R_body=geometry.EulerZXY(), build_on_command=None)\n</lessonCodeWrapper>\n\nThe example of use is [here](https://github.com/boston-dynamics/spot-sdk/blob/91ed30607264e795699995d6d7834ba0c8a94d36/python/examples/stance/stance_in_place.py).\n\n\n\\- Pose to change battery\n\n<code>def battery_change_pose_command(dir_hint=1)</code>\n\nExample of building and running velocity command:\n\n<lessonCodeWrapper language=\"python\" codeClass=\"big-code\">\nfrom bosdyn.client.robot_command import RobotCommandClient, RobotCommandBuilder\nimport time\n\ncommand_client=robot.ensure_client(RobotCommandClient.default_service_name)\ncmd=RobotCommandBuilder.velocity_command(0.5, 0, 0.5)\ncommand_client.robot_command(cmd, end_time_secs=time.time() + 2)\n</lessonCodeWrapper>\n\n</li>\n\n<li>\nConnect to Spot from a terminal or using your development environment remote execution function.\n</li>\n\n<li>\n\nDevelop and demonstrate your solution to the challenge.\n\nWe create [E-Stop endpoint](https://dev.bostondynamics.com/python/examples/estop/readme) for you, so you should not create it. For Spot authentication use username and password from <code>/home/student/credentials</code> file. Spot address is <code>192.168.50.3</code>.\n\n</li>\n\n</List>\n</section>\n\n<section class=\"container__reg\">\n\n### Are you ready to practice?\n\nOnce you feel ready, you may buy a 1 hour-long practice session specifying your access credentials (SSH key) and the time when you want to connect to Spot to solve the task.\n\n##### <LessonButtonLink src=\"https://dapp.spot-sdk.education/#/checkout\" text=\"Rent a spot\" />\n\n</section>","fileInfo":{"path":"en/online-courses/boston-dynamics-course/3-remote-controlled-and-programmed-motion.md","name":"3-remote-controlled-and-programmed-motion"},"lessonNumber":3}},"context":{}}