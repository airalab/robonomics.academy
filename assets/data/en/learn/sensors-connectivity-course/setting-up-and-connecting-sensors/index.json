{"hash":"380fe33671c02f2e91c5c022ae3ada961ac44707","data":{"course":{"id":"951858cc5e0e872a74849c71dd954ff2","title":"Lesson #3, Setting up and connecting sensors","description":"SETTING UP AND CONNECTING SENSORS","content":"\nOur sensors use the Robonomics firmware, an extended version of the sensor.community firmware, with some sensors added and the data sending scheme changed. The source code can be found [at the link.](https://github.com/LoSk-p/sensors-software/tree/master/airrohr-firmware)\n\nIf you got read-to-use Robonomics board, you can go to the \"Connect\" section.\n\n## Requirements\n\n**For Linux:**\n\n<List type=\"numbers\">\n\n<li>\n\nAdd a user to the `dialout` group (for Ubuntu) to get access to the USB port:\n\n<LessonCodeWrapper language=\"bash\" noLines>sudo usermod -a -G dialout $USER</LessonCodeWrapper>\n\n</li>\n\n<li>Reboot the computer.</li>\n\n<li>\n\nDownload Robonomics `airrohr-flasher` executable from [releases](https://github.com/airalab/sensors-connectivity/releases).\n\n</li>\n\n<li>\n\nChange the permissions of the file and execute it:\n\n<LessonCodeWrapper language=\"bash\">chmod +x airrohr-flasher-linux\n./airrohr-flasher-linux</LessonCodeWrapper>\n\n\n</li>\n\n</List>\n\n\n**For Windows:**\n\n<List type=\"numbers\">\n\n<li>\n\nInstall drivers for USB2serial (in Windows 10 it should start automatically) — Drivers for NodeMCU v3 (CH340): [link](http://www.wch.cn/downloads/file/5.html), [alternative link](https://d.inf.re/luftdaten/CH341SER.ZIP). \n\n</li>\n\n<li>\n\nDownload Robonomics `airrohr-flasher` executable from [releases](https://github.com/airalab/sensors-connectivity/releases) and run it.\n\n</li>\n\n</List>\n\n**For MacOS:**\n\n<List type=\"numbers\">\n\n<li>\n\nInstall the drivers for USB2serial — Drivers for NodeMCU v3 (CH340): [link](http://www.wch.cn/downloads/file/178.html), [alternative link](https://d.inf.re/luftdaten/CH341SER_MAC.ZIP).\n\n</li>\n\n<li>\n\nDownload Robonomics `airrohr-flasher` executable from [releases](https://github.com/airalab/sensors-connectivity/releases) and run it.\n\n</li>\n\n</List>\n\n\n## Setup\n\n<List type=\"numbers\">\n\n<li>\n\nConnect sensor to PC and run `airrohr-flasher` program. After opening program you will see the following (depending from you OS):\n\n<LessonImages imageClasses=\"mb\" src=\"sensors-connectivity-course/lesson-3-0.png\" alt=\"tutorial image\"/>\n\n</li>\n\n<li>\n\n`Board` field should automatically fill in; if not, choose the required port form the drop-down list.\n\n<RoboAcademyNote type=\"okay\" title=\"INFO\">\nIf <code>airrohr-flasher</code> can not find your board, make sure you have done the <b>Requirements</b> part properly.\n</RoboAcademyNote>\n\n</li>\n\n<li>\n\nSelect the firmware with preferred language, and click `Upload`. Uploading the firmware will take some time. If you later decide to change language or make clear installation (to reset configuration), go to `Erase flash` page and press the button to erase the flash memory of sensor.\n\n</li>\n\n<li>\n\nAfter downloading the firmware, reboot the ESP (just disconnect and reconnect the USB).\n\n</li>\n\n</List>\n\n## Connect\n\n<List type=\"numbers\">\n\n<li>\n\nAfter rebooting, the board will create a Wi-Fi network named `RobonomicsSensor-xxxxxxxxx`. Connect to it from your phone or computer: you will see the authorization window (if not, open the browser and go to `192.168.4.1`).\n\n</li>\n\n<li>\n\nSelect your Wi-Fi network from the list (or write it yourself if it's not on the list) and fill in the password field.\n\n</li>\n\n<li>\n\nWrite the coordinates of the place, where the sensor will be installed.\n\n<RoboAcademyNote type=\"warning\" title=\"WARNING\">\nThe sensor coordinates will then be displayed on a publicly available map. If you do not want to show your private information, write close, but not exact coordinates.\n</RoboAcademyNote>\n\n<LessonImages src=\"sensors-connectivity-course/lesson-3-1.png\" alt=\"tutorial image\"/>\n\n</li>\n\n<li>\n\nClick on `Save configuration and restart`. The board will reboot and connect to the specified Wi-Fi network. \n\n</li>\n\n<li>\n\nOpen [Robonomics sensors map](https://sensors.robonomics.network/#/) and find your place where you installed the sensor. In a couple of minutes you will be able to see your sensor with data on map.\n\n\n<LessonImages src=\"sensors-connectivity-course/lesson-3-2.jpg\" alt=\"tutorial image\"/>\n\n</li>\n\n</List>\n\nThat's all with default installation. For a more advanced setup (connecting additional sensors or sending data to your own server), read the next section.\n\n## Additional Configuration\n\nBefore configuration, you need to find the address of the sensor in your Wi-Fi network. To do this, you can use `airrohr-flasher` (your computer must be on the same network as the sensor). Start it and go to the `Discovery` tab, then press `Refresh`, wait a moment and your sensor address will appear.\n\n<LessonImages imageClasses=\"mb\" src=\"sensors-connectivity-course/lesson-3-3.png\" alt=\"tutorial image\"/>\n\nDouble-click on this address (or type it into your browser), you will get to the sensor menu:\n\n<LessonImages imageClasses=\"mb\" src=\"sensors-connectivity-course/lesson-3-4.png\" alt=\"tutorial image\"/>\n\nNow you can start customize your configuration.\n\n\n## Add New Sensors\n\nUnder the `Configuration` tab you can add and configure the sensors:\n\n<LessonImages imageClasses=\"mb\" src=\"sensors-connectivity-course/lesson-3-5.png\" alt=\"tutorial image\"/>\n\nSelect the sensor you want to connect to the board and click `Save configuration` and `restart`.\n\n## Custom API\n\nYou can also set up sending data to your own server. To do this, in the tab `APIs` click on `Send to own API` and specify the server address and port (`65` for sensors connectivity):\n\n<LessonImages imageClasses=\"mb\" src=\"sensors-connectivity-course/lesson-3-6.png\" alt=\"tutorial image\"/>\n\nClick `Save and restart` to save the settings.","fileInfo":{"path":"en/learn/sensors-connectivity-course/setting-up-and-connecting-sensors.md","name":"setting-up-and-connecting-sensors"},"lessonNumber":3,"defaultName":"Sensors Connectivity & Decentralized Sensors Network"}},"context":{}}