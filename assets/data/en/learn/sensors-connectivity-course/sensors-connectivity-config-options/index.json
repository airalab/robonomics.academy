{"hash":"fe5f79d992215422480315ac395587416d3cb1eb","data":{"course":{"id":"40f3fb409de2e93c05c80b2edca4e80a","title":"Lesson #5, Sensors connectivity config options","description":"SENSORS CONNECTIVITY CONFIG OPTIONS","content":"\nFor now only SDS011 sensor is supported out-of-box, but it quite easy to add other sensors as well and we has prepared a few ready-to-use configurations. Full overview of the configuration fields are available [here](https://github.com/airalab/sensors-connectivity/tree/master/connectivity/config). Next we will take a look to several advanced configurations scenarios.\n\n## Scenario #1: Connect SDS011 to Serial Port\n\nThe easiest and the most straightforward way to connect your sensor to the network is using the serial port. \n\n<List type=\"numbers\">\n\n<li>\n\nConnect you board to a USB port, and find path to it. In this example it is `ttyUSB0`\n\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">$ ls -l /dev/serial/by-id\ntotal 0\nlrwxrwxrwx 1 root root 13 sep 5 14:01 usb-1a86_USB2.0-Ser_-if00-port0 -> ../../ttyUSB0</LessonCodeWrapper>\n</li>\n\n<li>\n\nCreate a new configuration file or edit the existing one with the following. Don't forget to insert your database path to `db_path`, board path to `port` field and latitude / longitude of a sensor to `geo` field.\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">{\n   \"general\": {\n      \"publish_interval\": 30,\n      \"db_path\": \"<YOUR/PATH/TO/DATABASE>\"\n   },\n   \"comstation\":{\n      \"enable\":true,\n      \"port\":\"/dev/<YOUR/PATH/TO/BOARD>\",\n      \"work_period\":300,\n      \"geo\":\"00.000000,00.000000\",\n      \"public_key\":\"\"\n   },\n   \"httpstation\": {\n      \"enable\": false,\n      \"port\": 8001\n   },\n   \"mqttstation\": {\n      \"enable\": false,\n      \"host\": \"localhost\",\n      \"port\": 1883,\n      \"topic\": \"/freertos_mqtt_robonomics_example/#\",\n      \"username\": \"\",\n      \"password\": \"\"\n   },\n   \"robonomics\": {\n      \"enable\": true,\n      \"ipfs_provider\": \"/ip4/127.0.0.1/tcp/5001/http\",\n      \"ipfs_topic\": \"airalab.lighthouse.5.robonomics.eth\"\n   },\n   \"datalog\": {\n      \"enable\": false,\n      \"suri\": \"\",\n      \"dump_interval\": 60,\n      \"temporal_username\": \"\",\n      \"temporal_password\": \"\",\n      \"pinata_api\": \"\",\n      \"pinata_secret\": \"\"\n   },\n   \"dev\": {\n      \"sentry\": \"\"\n   },\n   \"frontier\": {\n      \"enable\": false,\n      \"suri\": \"\"\n   },\n   \"trackagro\": {\n      \"enable\": false,\n      \"token\": \"\"\n   }\n}</LessonCodeWrapper>\n\n</li>\n\n<li>Start Sensors Connectivity module.</li>\n\n</List>\n\n\n## Scenario #2: Connect SDS011 via MQTT\n\n<RoboAcademyNote type=\"okay\" title=\"INFO\">Robonomics sensors firmware doesn't work with MQTT. These settings for additional sensors, which work through MQTT.\n</RoboAcademyNote>\n\n<List type=\"numbers\">\n\n<li>\n\nInstall and config MQTT broker (like [Mosquitto](https://mosquitto.org/) or similar).\n\n</li>\n\n<li>\n\nCreate a new configuration file or edit the existing one with the following. Insert:\n\n- your database path to `db_path` field\n\n- a board path to `port` field in `comstation` section\n\n- a latitude / longitude of a sensor to `geo` field\n\n- an MQTT broker host in the `host` field in `mqttstation` section\n\n- an MQTT broker port in the `port` field in `mqttstation` section\n\n- a topic where your sensors sends data in the `topic` field\n\n- `username` and `password` to connect to the broker if it is required.\n\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">{\n   \"general\": {\n      \"publish_interval\": 30,\n      \"db_path\": \"<YOUR/PATH/TO/DATABASE>\"\n   },\n   \"comstation\":{\n      \"enable\":false,\n      \"port\":\"/dev/<YOUR/PATH/TO/BOARD>\",\n      \"work_period\":300,\n      \"geo\":\"00.000000,00.000000\",\n      \"public_key\":\"\"\n   },\n   \"httpstation\": {\n      \"enable\": false,\n      \"port\": 8001\n   },\n   \"mqttstation\": {\n      \"enable\": true,\n      \"host\": \"[YOUR_MQTT_BROKER_HOST]\",\n      \"port\": \"[YOUR_MQTT_BROKER_PORT]\",\n      \"topic\": \"[MQTT_TOPIC_OF_SENSORS]\",\n      \"username\": \"YOUR_MQTT_USERNAME\",\n      \"password\": \"YOUR_MQTT_PASSWORD\"\n   },\n   \"robonomics\": {\n      \"enable\": true,\n      \"ipfs_provider\": \"/ip4/127.0.0.1/tcp/5001/http\",\n      \"ipfs_topic\": \"airalab.lighthouse.5.robonomics.eth\"\n   },\n   \"datalog\": {\n      \"enable\": false,\n      \"suri\": \"\",\n      \"dump_interval\": 60,\n      \"temporal_username\": \"\",\n      \"temporal_password\": \"\",\n      \"pinata_api\": \"\",\n      \"pinata_secret\": \"\"\n   },\n   \"dev\": {\n      \"sentry\": \"\"\n   },\n   \"frontier\": {\n      \"enable\": false,\n      \"suri\": \"\"\n   },\n   \"trackagro\": {\n      \"enable\": false,\n      \"token\": \"\"\n   }\n}</LessonCodeWrapper>\n\n</li>\n\n<li>Start Sensors Connectivity module.</li>\n\n</List>\n\n## Scenario #3: Publish Sensors Data with Robonomics Datalog\n\nThis scenario shows how to upload your sensor's data to with datalog function Robonomics parachain. Datalog is analog of telemetry in web3 technologies. The function is meant to create a sensor's data snapshot each period of time, which increase reliability of data. It doesn't matter how data is being gathered: over HTTP, MQTT or COM.\n\n<RoboAcademyNote type=\"warning\" title=\"WARNING\">You have to have XRT tokens on your account\n</RoboAcademyNote>\n\n<List type=\"numbers\">\n\n<li>\n\nCreate a new configuration file or edit the existing one with the following. Insert:\n\n- your database path to `db_path` field\n\n- a board path to `port` field in `comstation` section\n\n- a latitude / longitude of a sensor to `geo` field\n\n- a private key from Robonomics parachain account to `suri` field\n\n- a period of time for collecting log in seconds to `dump_interval` field\n\n- (optional) credentials to upload files to [Temporal.Cloud](http://Temporal.Cloud) in `temporal_username`, `temporal_password` fields\n\n- (optional) credentials to upload files to Pinata in `pinata_api`, `pinata_secret` fields\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">{\n   \"general\": {\n      \"publish_interval\": 30,\n      \"db_path\": \"[YOUR/PATH/TO/DATABASE]\"\n   },\n   \"comstation\":{\n      \"enable\":false,\n      \"port\":\"/dev/[YOUR/PATH/TO/BOARD]\",\n      \"work_period\":300,\n      \"geo\":\"00.000000,00.000000\",\n      \"public_key\":\"\"\n   },\n   \"httpstation\": {\n      \"enable\": true,\n      \"port\": 8001\n   },\n   \"mqttstation\": {\n      \"enable\": false,\n      \"host\": \"localhost\",\n      \"port\": 1883,\n      \"topic\": \"/freertos_mqtt_robonomics_example/#\",\n      \"username\": \"\",\n      \"password\": \"\"\n   },\n   \"robonomics\": {\n      \"enable\": true,\n      \"ipfs_provider\": \"/ip4/127.0.0.1/tcp/5001/http\",\n      \"ipfs_topic\": \"airalab.lighthouse.5.robonomics.eth\"\n   },\n   \"datalog\": {\n      \"enable\": true,\n      \"suri\": \"[YOUR_PRIVATE_KEY]\",\n      \"dump_interval\": TIME_PERIOD,\n      \"temporal_username\": \"YOUR_TEMPORAL_USERNAME\",\n      \"temporal_password\": \"YOUR_TEMPORAL_PASSWORD\",\n      \"pinata_api\": \"YOUR_PINATA_API_KEY\",\n      \"pinata_secret\": \"YOUR_PINATA_SECRET\"\n   },\n   \"dev\": {\n      \"sentry\": \"\"\n   },\n   \"frontier\": {\n      \"enable\": true,\n      \"suri\": \"\"\n   },\n   \"trackagro\": {\n      \"enable\": false,\n      \"token\": \"\"\n   }\n}</LessonCodeWrapper>\n\n</li>\n\n<li>Start Sensors Connectivity module.</li>\n\n</List>","fileInfo":{"path":"en/learn/sensors-connectivity-course/sensors-connectivity-config-options.md","name":"sensors-connectivity-config-options"},"defaultName":"Sensors Connectivity & Decentralized Sensors Network","lastUpdate":null}},"context":{}}