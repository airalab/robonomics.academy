{"hash":"66c202d3783d3c594c78856019b23f3916cdea2f","data":{"course":{"id":"986dea12cee252116af368dd6de5178b","title":"Урок №5, Налаштування підписки Robonomics IoT","description":"курс домашнього асистента","content":"\n\n## Про що йдеться\n\nПідписка Robonomics IoT дозволяє користувачам використовувати всі функції парачейну протягом певного періоду без сплати стандартних транзакційних витрат. Активуючи підписку, пристрої зможуть відправляти транзакції з пріоритетом.\n\nУ цьому уроці ви створите необхідні облікові записи для безпечності розумного дому та придбаєте підписку IoT.\n\n## Теорія\n\nПідписка IoT, а також метод її придбання та управління, реалізовані за допомогою палітри <code>rws</code>, яка містить всі необхідні функції. Загалом, підписки в Robonomics продаються за моделлю аукціону, яка використовує зовнішній виклик <code>rws.startAuction()</code> для створення аукціону для певного ідентифікатора підписки. ористувачі можуть отримати доступ до аукціону за допомогою ідентифікатора та робити ставки за допомогою зовнішнього виклику <code>rws.bid()</code>.\n\nПісля завершення аукціону адреса з переможною ставкою призначається підписці. Тепер ця адреса зможе відправляти транзакції через зовнішній виклик <code>rws.call()</code> без витрат. Однак це не означає, що адреса може це робити безконтрольно у будь-який час: кожна підписка має певну кількість значення <code>weight</code>, яке повинно накопичуватися перед виконанням безкоштовної транзакції. Деяка кількість значення <code>weight</code> додається до підписки кожен блок, що генерується в парачейні, завдяки цьому Robonomics регулює пропускну здатність парачейну.\n\nКрім того, власник підписки може використовувати зовнішній виклик <code>rws.setDevices()</code>, який розподіляє використання підписки на вказані адреси. У той же час <code>weight</code> залишається незмінним, тому чим більше адрес у підписці, тим довше кожен з них буде чекати перед відправленням безкоштовної транзакції.\n\nДля управління Home Assistant за допомогою Robonomics вам потрібно два облікові записи на парачейні Robonomics. Ці облікові записи забезпечать безпеку вашому Home Assistant.\n\nЗ одним з облікових записів (<code>SUB_OWNER</code>) ви придбаєте підписку Robonomics. Цей обліковий запис діє як головний адміністратор підписки IoT та надає доступ до Home Assistant іншим користувачам (за допомогою <code>rws.setDevices()</code>). Цей обліковий запис повинен мати певну кількість токенів XRT для завершення транзакцій покупки підписки.\n\nДругий обліковий запис (<code>SUB_CONTROLLER</code>) бде контролювати всі процеси Home Assistant пристроїв (такі як телеметрія). Транзакції ваших пристроїв будуть відправлятися від імені облікового запису <code>SUB_CONTROLLER</code>. Ви (і будь-хто) зможете бачити ці транзакції в будь-якому досліднику парачейну, наприклад [Subscan](https://robonomics.subscan.io/). Однак тільки ви зможете розшифрувати вміст цих транзакцій, якщо володієте необхідними секретними фразами.\n\n## Інструкції\n\n<List type=\"numbers\">\n\n<li>\n\nСтворення облікових записів власника та контролера парачейну\n\n<List>\n\n<li>\n\n<robo-academy-note type=\"warning\" title=\"WARNING\">\nОбидва облікових записи повинні бути створені з шифруванням ed25519.\n</robo-academy-note>\n\n</li>\n\n<li>\n\nПерейдіть на [додаток парачейну Robonomics](https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fkusama.rpc.robonomics.network%2F#/) на порталі Polkadot / Substrate. Перевірте верхній лівий кут, щоб переконатися, що ви підключені до парачейну Robonomics.\n\n</li>\n\n<li>\n\nЧерез використання формату *ed25519* вам потрібно створити обліковий запис за допомогою Polkadot-JS UI та вибрати необхідне шифрування. \n\nЦя функція за замовчуванням вимкнена в Polkadot-JS UI. Щоб увімкнути її, перейдіть до <code>Налаштування</code> -> <code>Загальне</code> -> <code>опції облікового запису</code> та виберіть <code>Дозволити локальне зберігання облікового запису в браузері</code> у розкривному меню <code>створення облікового запису в браузері</code>.\n \n</li>\n\n<li>\n\nПерейдіть до <code>Облікові записи</code> -> <code>Облікові записи</code> та натисніть кнопку <code>Додати обліковий запис</code>. Ви побачите спливаюче меню з насінням облікового запису. Воно має дві форми: *Мнемонічний* (людиночитаний) та *Сирий* (послідовність цифр і літер).\n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmQiJYPYajUJXENX2PzSJMSKGSshyWyPNqugSYxP5eCNvm', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nВідкрийте <code>Розширені параметри створення</code>, змініть тип криптографії створення облікового запису на <code>Едвардс - ed25519</code>. Збережіть мнемонічну фразу насіння безпечно та натисніть <code>Далі</code>.\n\n</li>\n\n<li>\n\nУ наступному меню вам потрібно встановити ім'я облікового запису та пароль. Дайте йому ім'я <code>SUB_OWNER</code> для зручності та натисніть <code>Далі</code>.\n\n</li>\n\n<li>\n\nНа останньому вікні натисніть <code>Зберегти</code>, щоб завершити створення облікового запису. Він також згенерує резервні JSON-файли, які вам слід безпечно зберігати. Пізніше ви можете використовувати цей файл для відновлення облікового запису, якщо ви запам'ятаєте пароль.\n\n</li>\n\n<li>\n\nПовторіть ці кроки для облікового запису <code>SUB_CONTROLLER</code>.\n\n</li>\n</List>\n</li>\n\n<li>\n\nДодавання облікових записів до розширення Polkadot.js\n\n<List type=\"numbers\">\n\n<li>\n\nДля зручності використовуйте розширення Polkadot.js та додайте ці нові створені облікові записи до нього. Для облікового запису ed25519 ви можете це зробити лише за допомогою резервного файлу JSON. Ви можете використовувати файли, збережені при створенні облікових записів.\n\nВи можете отримати ці файли знову, створивши резервну копію облікового запису. Натисніть на три крапки на своєму обліковому записі, виберіть <code>Створити резервну копію для цього облікового запису</code> та введіть свій пароль.\n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmRd7gztUjWkLF4W2XuJwy5aXBwzNV2aPCU6CQQLvUpSNj', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nВідкрийте розширення та натисніть кнопку <code>+</code> у верхньому правому куті, потім виберіть <code>Відновити обліковий запис з резервного файлу JSON</code>.\n\n</li>\n\n<li>\n\nУ відкритому вікні завантажте файл JSON, введіть парол та натисніть <code>Відновити</code>\n\n</li>\n\n<li>\n\nПереконайтеся, що для облікових записів у розширенні Polkadot.js вибрана мережа Robonomics. На порталі Polkadot / Substrate перейдіть до <code>Налаштування</code> -> <code>Метадані</code> та натисніть на кнопку <code>Оновити метадані</code>. \n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmT5sTNP9t8gpbD4RJJw6ETwG4wiziiChAh2uHHBk9Zsyd', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nПідтвердіть оновлення метаданих у спливаючому вікні. Тепер розширення покаже мітку мережі, для якої використовується адреса.\n\n</li>\n\n</List>\n</li>\n\n<li>\n\nАктивація підписки Robonomics\n\n<List >\n\n<li>\n\n<robo-academy-note type=\"okay\">\nДля цього кроку вам потрібно мати достатню кількість токенів XRT (мінімум 2-3 XRT) на вашому обліковому записі <code>SUB_OWNER</code>.\n</robo-academy-note>\n\nПерейдіть до додатку Robonomics на [сторінку підписки](https://dapp.robonomics.network/#/subscription) та натисніть <code>підключити обліковий запис</code> у бічній панелі справа.\n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmXrFCajmJgkRDSbshGD3QehjnoyS6jafEPSjHdYkoBHum', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nУ наступному спливаючому меню підключіть розширення Polkadot.js. Ви побачите адресу свого облікового запису з балансом.\n\n</li>\n\n<li>\n\nПерш ніж здійснити покупку, переконайтеся, що ви вибрали обліковий запис <code>SUB_OWNER</code>. Натисніть на значок профілю адреси, ви повинні побачити обліковий запис <code>SUB_OWNER</code> під полем <code>Перевірити власника облікового запису</code>.\n\n</li>\n\n<li>\n\nНарешті, натисніть кнопку <code>ПОДАТИ</code> та введіть пароль для свого облікового запису. Після цього зачекайте, поки завершиться процес активації. Через деякий час ви побачите стан вашої підписки.\n\nЯкщо доступні жодні підписки, **будь ласка, зв'яжіться** з командою Robonomics.\n\n</li>\n</List>\n</li>\n\n<li>\n\nДодавання облікового запису до підписки\n\n<List type=\"numbers\">\n\n<li>\n\nТепер вам потрібно додати обліковий запис <code>SUB_CONTROLLER</code> до **списку доступу**. Відкрийте розширення та натисніть на значок біля назви облікового запису. Він скопіює адресу облікового запису.\n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmV1gkwtcXsWv54ov9tuXfcHg7nqs1foM8cRwts4sqnqtX', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nВставте цю адресу в поле <code>Адреса паралельної мережі Robonomics</code> в частині **Керування доступом**.\n\nДайте йому назву та натисніть кнопку <code>+</code>. Введіть свій пароль <code>SUB_OWNER</code> у спливаючому вікні та зачекайте, поки завершиться процес активації.\n\n</li>\n\n<li>\n\nПовторіть кроки для облікового запису <code>SUB_OWNER</code>.\n</li>\n</List>\n</li>\n</List>","fileInfo":{"path":"uk/learn/smart-home-course/robonomics-iot-subscription-setup.md","name":"robonomics-iot-subscription-setup"},"defaultName":"Sovereign Smart Home with Robonomics and Home Assistant","lastUpdate":"Thu May 18 2023 10:46:29 GMT+0400 (Samara Standard Time)"}},"context":{}}