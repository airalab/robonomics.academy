{"hash":"b7127cfb676a767c419fa0b68f47fd3dddba7323","data":{"course":{"id":"b297ff5069b461442a96f5045581ab0b","title":"Lección #5, Configuración de Suscripción Robonomics IoT","description":"curso de asistente doméstico","content":"\n\n## ¿De qué se trata esto?\n\nLa Suscripción Robonomics IoT permite a los usuarios utilizar todas las funciones de la paracadena durante un cierto período sin pagar las tarifas de transacción estándar. Al activar la suscripción, los dispositivos podrán enviar transacciones con prioridad.\n\nEn esta lección, crearás las cuentas de seguridad necesarias para el hogar inteligente y comprarás una suscripción IoT.\n\n## Teoría\n\nUna suscripción IoT, así como el método de compra y gestión, se implementa utilizando un palet <code>rws</code>, que contiene todas las funciones necesarias. En general, las suscripciones en Robonomics se venden con un modelo de subasta, que utiliza un extrínseco <code>rws.startAuction()</code> para crear una subasta para un ID de suscripción específico. Los usuarios pueden acceder a la subasta por ID y ofertar utilizando un extrínseco <code>rws.bid()</code>.\n\nDespués de finalizar la subasta, la dirección con la oferta ganadora se asigna a la suscripción. Ahora esta dirección podrá enviar transacciones a través del extrínseco <code>rws.call()</code> sin tarifas. Sin embargo, esto no significa que la dirección pueda hacerlo sin control en cualquier momento: cada suscripción tiene una cierta cantidad de un valor de <code>weight</code>, que debe acumularse antes de que se pueda realizar una transacción gratuita. Se agrega un cierto valor de <code>weight</code> a la suscripción en cada bloque generado en la paracadena, debido a esto, Robonomics regula el ancho de banda de la paracadena.\n\nAdemás, el propietario de la suscripción puede utilizar el extrínseco <code>rws.setDevices()</code>, que comparte el uso de la suscripción a las direcciones especificadas. Al mismo tiempo, el <code>weight</code> permanece igual, por lo que cuantas más direcciones haya en la suscripción, más tiempo tendrá que esperar cada una de ellas antes de enviar la transacción gratuita.\n\nPara controlar Home Assistant con Robonomics, necesitas dos cuentas en la paracadena de Robonomics. Estas cuentas proporcionarán seguridad para tu Home Assistant.\n\nCon una de las cuentas (<code>SUB_OWNER</code>), comprarás una suscripción Robonomics. Esta cuenta actúa como el administrador principal de la suscripción IoT, y proporciona acceso a Home Assistant a otros usuarios (utilizando <code>rws.setDevices()</code>). Esta cuenta debe tener algunos tokens XRT para completar las transacciones de compra de suscripción.\n\nLa segunda cuenta (<code>SUB_CONTROLLER</code>) controlará todos los procesos de Home Assistant de los dispositivos (como la telemetría). Las transacciones de tus dispositivos se enviarán en nombre de la cuenta <code>SUB_CONTROLLER</code>. Tú (y cualquier persona) podrán ver estas transacciones en cualquier explorador de paracadenas como [Subscan](https://robonomics.subscan.io/). Sin embargo, solo tú podrás descifrar el contenido de estas transacciones siempre que poseas de forma segura las frases de semilla necesarias.\n\n## Instrucciones\n\n<List type=\"numbers\">\n\n<li>\n\nCreación de Cuentas de Paracadena de Propietario y Controlador\n\n<List>\n\n<li>\n\n<robo-academy-note type=\"warning\" title=\"WARNING\">\nAmbas cuentas deben crearse con cifrado ed25519.\n</robo-academy-note>\n\n</li>\n\n<li>\n\nVe a la [aplicación de Paracadena Robonomics](https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fkusama.rpc.robonomics.network%2F#/) en el Portal de Polkadot / Substrate. Verifica la esquina superior izquierda para asegurarte de que estás conectado a la Paracadena Robonomics.\n\n</li>\n\n<li>\n\nDebido al uso del formato *ed25519*, necesitas crear una cuenta utilizando la interfaz de Polkadot-JS y seleccionar el cifrado requerido. \n\nEsta función está desactivada de forma predeterminada en la interfaz de Polkadot-JS. Para habilitarla, ve a <code>Configuración</code> -> <code>General</code> -> <code>opciones de cuenta</code> y selecciona <code>Permitir almacenamiento local de cuentas en el navegador</code> en el menú desplegable <code>creación de cuentas en el navegador</code>.\n \n</li>\n\n<li>\n\nVe a <code>Cuentas</code> -> <code>Cuentas</code> y presiona el botón <code>Agregar cuenta</code>. Verás un menú emergente con la semilla de la cuenta. Tiene dos formas: *Mnemónico* (legible por humanos) y *Crudo* (una secuencia de dígitos y letras).\n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmQiJYPYajUJXENX2PzSJMSKGSshyWyPNqugSYxP5eCNvm', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nAbre <code>Opciones avanzadas de creación</code>, cambia el tipo de criptografía para crear la cuenta a <code>Edwards - ed25519</code>. Guarda la frase de semilla mnemónica de forma segura y presiona <code>Siguiente</code>.\n\n</li>\n\n<li>\n\nEn el siguiente menú, necesitas establecer el nombre de la cuenta y la contraseña. Dale un nombre <code>SUB_OWNER</code> por conveniencia y presiona <code>Siguiente</code>.\n\n</li>\n\n<li>\n\nEn la última ventana haz clic en <code>Guardar</code> para finalizar la creación de la cuenta. También generará archivos JSON de respaldo que debes almacenar de forma segura. Más tarde puedes usar este archivo para recuperar tu cuenta si recuerdas la contraseña.\n\n</li>\n\n<li>\n\nRepite estos pasos para la cuenta <code>SUB_CONTROLLER</code>.\n\n</li>\n</List>\n</li>\n\n<li>\n\nAñadiendo cuentas a la extensión Polkadot.js\n\n<List type=\"numbers\">\n\n<li>\n\nPara mayor comodidad, deberías usar la extensión Polkadot.js y agregar estas cuentas recién creadas a ella. Para una cuenta ed25519 solo puedes hacerlo con un archivo JSON de respaldo. Puedes usar los archivos guardados cuando creaste las cuentas.\n\nPuedes obtener estos archivos nuevamente creando un archivo de respaldo de la cuenta. Presiona en los tres puntos de tu cuenta, elige <code>Crear un archivo de respaldo para esta cuenta</code> e ingresa tu contraseña.\n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmRd7gztUjWkLF4W2XuJwy5aXBwzNV2aPCU6CQQLvUpSNj', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nAbre una extensión y presiona el botón <code>+</code> en la esquina superior derecha, luego elige <code>Restaurar cuenta desde archivo JSON de respaldo</code>.\n\n</li>\n\n<li>\n\nEn una ventana abierta carga el archivo JSON, ingresa la contraseña y presiona <code>Restaurar</code>\n\n</li>\n\n<li>\n\nAsegúrate de que la red Robonomics esté seleccionada para las cuentas en la extensión Polkadot.js. En el Portal de Polkadot / Substrate ve a <code>Configuración</code> -> <code>Metadatos</code> y haz clic en el botón <code>Actualizar metadatos</code>. \n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmT5sTNP9t8gpbD4RJJw6ETwG4wiziiChAh2uHHBk9Zsyd', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nConfirma la actualización de metadatos en el popup. Ahora la extensión mostrará la etiqueta de la red para la cual se utiliza la dirección.\n\n</li>\n\n</List>\n</li>\n\n<li>\n\nActivando Suscripción Robonomics\n\n<List >\n\n<li>\n\n<robo-academy-note type=\"okay\">\nPara este paso, debes tener una cantidad suficiente de tokens XRT (mínimo 2-3 XRTs) en tu cuenta <code>SUB_OWNER</code>.\n</robo-academy-note>\n\nVe a la dapp de Robonomics a la [página de suscripción](https://dapp.robonomics.network/#/subscription) y presiona <code>conectar cuenta</code> en la barra lateral derecha.\n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmXrFCajmJgkRDSbshGD3QehjnoyS6jafEPSjHdYkoBHum', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nEn el siguiente menú emergente conecta la extensión Polkadot.js. Verás tu dirección de cuenta con saldo.\n\n</li>\n\n<li>\n\nAntes de comprar, verifica que hayas elegido la cuenta <code>SUB_OWNER</code>. Presiona el ícono del perfil de la dirección, deberías ver la cuenta <code>SUB_OWNER</code> bajo el campo <code>Verificar cuenta propietaria</code>.\n\n</li>\n\n<li>\n\nFinalmente, presiona el botón <code>ENVIAR</code> e ingresa la contraseña de tu cuenta. Después espera hasta que se complete el proceso de activación. Verás el estado de tu suscripción después de un tiempo.\n\nSi no hay suscripciones disponibles, **por favor contacta** al equipo de Robonomics.\n\n</li>\n</List>\n</li>\n\n<li>\n\nAñadiendo Cuenta a la Suscripción\n\n<List type=\"numbers\">\n\n<li>\n\nAhora necesitas agregar la cuenta <code>SUB_CONTROLLER</code> a **la lista de acceso**. Abre la extensión y haz clic en el ícono cerca del nombre de la cuenta. Se copiará la dirección de la cuenta.\n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmV1gkwtcXsWv54ov9tuXfcHg7nqs1foM8cRwts4sqnqtX', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nPega esta dirección en el campo <code>Dirección de la parachain de Robonomics</code> en la parte **Gestionar acceso**.\n\nDale un nombre y presiona el botón <code>+</code>. Ingresa tu contraseña de <code>SUB_OWNER</code> en la ventana emergente y espera hasta que se complete el proceso de activación.\n\n</li>\n\n<li>\n\nRepite los pasos para la cuenta <code>SUB_OWNER</code>.\n</li>\n</List>\n</li>\n</List>","fileInfo":{"path":"es/learn/smart-home-course/robonomics-iot-subscription-setup.md","name":"robonomics-iot-subscription-setup"},"defaultName":"Sovereign Smart Home with Robonomics and Home Assistant","lastUpdate":"Thu May 18 2023 10:46:29 GMT+0400 (Samara Standard Time)"}},"context":{}}