{"hash":"747fe7ef75ee9f5c9a3260f3225c1f4d5c548a18","data":{"course":{"id":"b52876d63530469ddc2e39c17edafb52","title":"Lição #5, Opções de configuração de conectividade de sensores","description":"OPÇÕES DE CONFIGURAÇÃO DE CONECTIVIDADE DE SENSORES","content":"\nPor enquanto, apenas o sensor SDS011 é suportado out-of-box, mas é bastante fácil adicionar outros sensores também e nós preparamos algumas configurações prontas para uso. Uma visão geral completa dos campos de configuração está disponível [aqui](https://github.com/airalab/sensors-connectivity/tree/master/connectivity/config). Em seguida, vamos dar uma olhada em vários cenários de configuração avançada.\n\n## Cenário #1: Conectar SDS011 à Porta Serial\n\nA maneira mais fácil e direta de conectar seu sensor à rede é usando a porta serial. \n\n<List type=\"numbers\">\n\n<li>\n\nConecte sua placa a uma porta USB e encontre o caminho para ela. Neste exemplo é `ttyUSB0`\n\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">$ ls -l /dev/serial/by-id\ntotal 0\nlrwxrwxrwx 1 root root 13 sep 5 14:01 usb-1a86_USB2.0-Ser_-if00-port0 -> ../../ttyUSB0</LessonCodeWrapper>\n</li>\n\n<li>\n\nCrie um novo arquivo de configuração ou edite o existente com o seguinte. Não se esqueça de inserir o caminho do seu banco de dados no campo `db_path`, o caminho da placa no campo `port` e a latitude / longitude de um sensor no campo `geo`.\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">{\n   \"general\": {\n      \"publish_interval\": 30,\n      \"db_path\": \"<YOUR/PATH/TO/DATABASE>\"\n   },\n   \"comstation\":{\n      \"enable\":true,\n      \"port\":\"/dev/<YOUR/PATH/TO/BOARD>\",\n      \"work_period\":300,\n      \"geo\":\"00.000000,00.000000\",\n      \"public_key\":\"\"\n   },\n   \"httpstation\": {\n      \"enable\": false,\n      \"port\": 8001\n   },\n   \"mqttstation\": {\n      \"enable\": false,\n      \"host\": \"localhost\",\n      \"port\": 1883,\n      \"topic\": \"/freertos_mqtt_robonomics_example/#\",\n      \"username\": \"\",\n      \"password\": \"\"\n   },\n   \"robonomics\": {\n      \"enable\": true,\n      \"ipfs_provider\": \"/ip4/127.0.0.1/tcp/5001/http\",\n      \"ipfs_topic\": \"airalab.lighthouse.5.robonomics.eth\"\n   },\n   \"datalog\": {\n      \"enable\": false,\n      \"suri\": \"\",\n      \"dump_interval\": 60,\n      \"temporal_username\": \"\",\n      \"temporal_password\": \"\",\n      \"pinata_api\": \"\",\n      \"pinata_secret\": \"\"\n   },\n   \"dev\": {\n      \"sentry\": \"\"\n   },\n   \"frontier\": {\n      \"enable\": false,\n      \"suri\": \"\"\n   },\n   \"trackagro\": {\n      \"enable\": false,\n      \"token\": \"\"\n   }\n}</LessonCodeWrapper>\n\n</li>\n\n<li>Inicie o módulo de Conectividade de Sensores.</li>\n\n</List>\n\n\n## Cenário #2: Conectar SDS011 via MQTT\n\n<RoboAcademyNote type=\"okay\" title=\"INFO\">O firmware dos sensores Robonomics não funciona com MQTT. Essas configurações são para sensores adicionais, que funcionam através do MQTT.\n</RoboAcademyNote>\n\n<List type=\"numbers\">\n\n<li>\n\nInstale e configure um broker MQTT (como [Mosquitto](https://mosquitto.org/) ou similar).\n\n</li>\n\n<li>\n\nCrie um novo arquivo de configuração ou edite o existente com o seguinte. Insira:\n\n- o caminho do seu banco de dados no campo `db_path`\n\n- um caminho da placa no campo `port` na seção `comstation`\n\n- uma latitude / longitude de um sensor no campo `geo`\n\n- um host do broker MQTT no campo `host` na seção `mqttstation`\n\n- uma porta do broker MQTT no campo `port` na seção `mqttstation`\n\n- um tópico onde seus sensores enviam dados no campo `topic`\n\n- `username` e `password` para se conectar ao broker, se necessário.\n\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">{\n   \"general\": {\n      \"publish_interval\": 30,\n      \"db_path\": \"<YOUR/PATH/TO/DATABASE>\"\n   },\n   \"comstation\":{\n      \"enable\":false,\n      \"port\":\"/dev/<YOUR/PATH/TO/BOARD>\",\n      \"work_period\":300,\n      \"geo\":\"00.000000,00.000000\",\n      \"public_key\":\"\"\n   },\n   \"httpstation\": {\n      \"enable\": false,\n      \"port\": 8001\n   },\n   \"mqttstation\": {\n      \"enable\": true,\n      \"host\": \"[YOUR_MQTT_BROKER_HOST]\",\n      \"port\": \"[YOUR_MQTT_BROKER_PORT]\",\n      \"topic\": \"[MQTT_TOPIC_OF_SENSORS]\",\n      \"username\": \"YOUR_MQTT_USERNAME\",\n      \"password\": \"YOUR_MQTT_PASSWORD\"\n   },\n   \"robonomics\": {\n      \"enable\": true,\n      \"ipfs_provider\": \"/ip4/127.0.0.1/tcp/5001/http\",\n      \"ipfs_topic\": \"airalab.lighthouse.5.robonomics.eth\"\n   },\n   \"datalog\": {\n      \"enable\": false,\n      \"suri\": \"\",\n      \"dump_interval\": 60,\n      \"temporal_username\": \"\",\n      \"temporal_password\": \"\",\n      \"pinata_api\": \"\",\n      \"pinata_secret\": \"\"\n   },\n   \"dev\": {\n      \"sentry\": \"\"\n   },\n   \"frontier\": {\n      \"enable\": false,\n      \"suri\": \"\"\n   },\n   \"trackagro\": {\n      \"enable\": false,\n      \"token\": \"\"\n   }\n}</LessonCodeWrapper>\n\n</li>\n\n<li>Inicie o módulo de Conectividade de Sensores.</li>\n\n</List>\n\n## Cenário #3: Publicar Dados dos Sensores com Robonomics Datalog\n\nEste cenário mostra como carregar os dados do seu sensor para a parachain Robonomics com a função datalog. Datalog é o equivalente a telemetria nas tecnologias web3. A função tem como objetivo criar um instantâneo dos dados do sensor a cada período de tempo, aumentando a confiabilidade dos dados. Não importa como os dados estão sendo coletados: via HTTP, MQTT ou COM.\n\n<RoboAcademyNote type=\"warning\" title=\"WARNING\">Você precisa ter tokens XRT em sua conta\n</RoboAcademyNote>\n\n<List type=\"numbers\">\n\n<li>\n\nCrie um novo arquivo de configuração ou edite o existente com o seguinte. Insira:\n\n- o caminho do seu banco de dados no campo `db_path`\n\n- um caminho da placa no campo `port` na seção `comstation`\n\n- uma latitude / longitude de um sensor no campo `geo`\n\n- uma chave privada da conta da parachain Robonomics para o campo `suri`\n\n- um período de tempo para coleta de log em segundos para o campo `dump_interval`\n\n- (opcional) credenciais para fazer upload de arquivos para [Temporal.Cloud](http://Temporal.Cloud) nos campos `temporal_username`, `temporal_password`\n\n- (opcional) credenciais para fazer upload de arquivos para Pinata nos campos `pinata_api`, `pinata_secret`\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">{\n   \"general\": {\n      \"publish_interval\": 30,\n      \"db_path\": \"[YOUR/PATH/TO/DATABASE]\"\n   },\n   \"comstation\":{\n      \"enable\":false,\n      \"port\":\"/dev/[YOUR/PATH/TO/BOARD]\",\n      \"work_period\":300,\n      \"geo\":\"00.000000,00.000000\",\n      \"public_key\":\"\"\n   },\n   \"httpstation\": {\n      \"enable\": true,\n      \"port\": 8001\n   },\n   \"mqttstation\": {\n      \"enable\": false,\n      \"host\": \"localhost\",\n      \"port\": 1883,\n      \"topic\": \"/freertos_mqtt_robonomics_example/#\",\n      \"username\": \"\",\n      \"password\": \"\"\n   },\n   \"robonomics\": {\n      \"enable\": true,\n      \"ipfs_provider\": \"/ip4/127.0.0.1/tcp/5001/http\",\n      \"ipfs_topic\": \"airalab.lighthouse.5.robonomics.eth\"\n   },\n   \"datalog\": {\n      \"enable\": true,\n      \"suri\": \"[YOUR_PRIVATE_KEY]\",\n      \"dump_interval\": TIME_PERIOD,\n      \"temporal_username\": \"YOUR_TEMPORAL_USERNAME\",\n      \"temporal_password\": \"YOUR_TEMPORAL_PASSWORD\",\n      \"pinata_api\": \"YOUR_PINATA_API_KEY\",\n      \"pinata_secret\": \"YOUR_PINATA_SECRET\"\n   },\n   \"dev\": {\n      \"sentry\": \"\"\n   },\n   \"frontier\": {\n      \"enable\": true,\n      \"suri\": \"\"\n   },\n   \"trackagro\": {\n      \"enable\": false,\n      \"token\": \"\"\n   }\n}</LessonCodeWrapper>\n\n</li>\n\n<li>Inicie o módulo de conectividade de sensores.</li>\n\n</List>","fileInfo":{"path":"pt/learn/sensors-connectivity-course/sensors-connectivity-config-options.md","name":"sensors-connectivity-config-options"},"defaultName":"Sensors Connectivity & Decentralized Sensors Network","lastUpdate":null}},"context":{}}