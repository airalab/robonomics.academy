{"hash":"957c30fcef9ac2d232ac92277ff384b34731a809","data":{"course":{"id":"642fdf37a03840c32a52fd30160a3be4","title":"Урок №6, Развертывание карты датчиков","description":"РАЗВЕРТЫВАНИЕ КАРТЫ ДАТЧИКОВ","content":"\nПосле сборки датчика и настройки модуля подключения датчиков настало время развернуть персональную децентрализованную карту датчиков.\n\n\n## Требования & Установка\n\n<List type=\"numbers\">\n\n<li>\n\nПоскольку карта датчиков работает на JavaScript, сначала вам нужно установить `node` и менеджер `yarn`\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">sudo curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash -\nsudo apt-get install -y nodejs\nsudo npm install --global yarn</LessonCodeWrapper>\n\n</li>\n\n<li>\n\nСкачайте и постройте карту:\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">git clone https://github.com/airalab/sensors.robonomics.network.git\ncd sensors.robonomics.network/\nyarn install</LessonCodeWrapper>\n\n</li>\n\n<li>\n\nЗапустите карту в режиме `development` для тестирования.\n\n<LessonCodeWrapper language=\"bash\">yarn serve</LessonCodeWrapper>\n\n</li>\n\n<li>\n\nПерейдите по URL-адресу с терминала, вы должны увидеть карту датчиков. После этого остановите его, нажав `Ctrl+C`.\n\n</li>\n\n</List>\n\n## Конфигурация\n\n<List type=\"numbers\">\n\n<li>\n\nНайдите свой IPFS ID с помощью:\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">$ ipfs id\n{\n\t\"ID\": \"QmUZxw8jsRpSx5rWkTpJokPGKvWihTrt5rbRCFXzJ4eCAP\",\n\t\"PublicKey\": \"CAASpgIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC/uMV3rLM/C+LOh2DGPo3chr+VM+vyYMKi...\n    ...</LessonCodeWrapper>\n\n</li>\n\n<li>\n\nПерейдите в папку `src` и переименуйте файлы:\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">cd src\ncp config.template.json config.json\ncp agents.template.json agents.json</LessonCodeWrapper>\n\n</li>\n\n<li>\n\nВставьте свой IPFS ID в `agents.json`:\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">[\n  \"QmUZxw8jsRpSx5rWkTpJokPGKvWihTrt5rbRCFXzJ4eCAP\"\n]</LessonCodeWrapper>\n\n</li>\n\n<li>\n\nОткройте файл `config.json` и измените следующую часть файла конфигурации:\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">...\n  REMOTE_PROVIDER: \"\",\n  WIND_PROVIDER: \"\",\n  MAP: {\n    zoom: \"8\",\n    position: {\n      lat: \"\",\n      lng: \"\",\n    },\n  },\n  SHOW_MESSAGES: true,\n};</LessonCodeWrapper>\n\n\nЗдесь вам нужно вставить широту (`lat`) и долготу (`lng`) вашего города. По желанию, вы можете настроить [сервис направления ветра](https://github.com/danwild/wind-js-server) и указать URL к нему в поле `WIND_PROVIDER`.\n\n</li>\n\n</List>\n\n\n## Сборка\n\n<List type=\"numbers\">\n\n<li>\n\nЗапустите следующую команду для сборки файлов для релиза:\n\n<LessonCodeWrapper language=\"bash\">yarn build</LessonCodeWrapper>\n\nЭто создаст каталог `dist` со всеми компонентами статического веб-сайта.\n\n</li>\n\n<li>\n\nЧтобы проверить, что все правильно, перейдите в каталог `dist` и откройте файл `index.html`. Через некоторое время данные датчиков из вашего модуля подключения датчиков появятся на карте.\n\n</li>\n\n</List>\n\n","fileInfo":{"path":"ru/learn/sensors-connectivity-course/sensor-map-deployment.md","name":"sensor-map-deployment"},"defaultName":"Sensors Connectivity & Decentralized Sensors Network","lastUpdate":null}},"context":{}}