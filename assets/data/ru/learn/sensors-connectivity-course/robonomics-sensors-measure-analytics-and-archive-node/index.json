{"hash":"747fe7ef75ee9f5c9a3260f3225c1f4d5c548a18","data":{"course":{"id":"d678d8f042caecd97548582a54082e52","title":"Урок №7, Датчики Robonomics измеряют аналитику и архивный узел","description":"ROBONOMICS СЕНСОРЫ ИЗМЕРЯЮТ АНАЛИТИКУ И АРХИВИРУЮТ УЗЕЛ","content":"\nRobonomics Sensors Measure Analytics and Archive Node или RoSeMAN - это сервис для накопления данных датчиков для отображения истории измерений. В этой статье вы настроите сервис.\n\n## Требования\n\nДля RoSeMAN требуется сервер базы данных [MongoDB](https://www.mongodb.com/docs/manual/introduction/), предполагается, что у вас уже есть. Также вам нужно включить опцию журнала данных для модуля подключения датчиков, как показано в Сценарии №3. У вас должны быть свободные токены XRT на вашем аккаунте Robonomics, который подключен к модулю подключения датчиков. \n\n\n## Установка\n\n<List type=\"numbers\">\n\n<li>\n\nСкачайте репозиторий:\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">git clone https://github.com/airalab/RoSeMAN.git\ncd RoSeMAN</LessonCodeWrapper>\n\n</li>\n\n\n<li>\n\nСоздайте файлы конфигурации:\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">cp config.template.json config.json\ncp agents.template.json agents.json</LessonCodeWrapper>\n\n</li>\n\n<li>\n\nОткройте файл `config.json` и отредактируйте путь к базе данных:\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">...\n  \"DB\": {\n    \"path\": \"mongodb://localhost:27017/rosemandb\"\n  },\n...</LessonCodeWrapper>\n\n</li>\n\n\n<li>\n\nДобавьте публичный адрес вашего аккаунта в файл `agents.json`. Вы можете добавить несколько адресов в файл, если хотите собирать данные из разных модулей подключения датчиков.\n\n</li>\n\n\n<li>\n\nУстановите зависимости и соберите сервер:\n\n<LessonCodeWrapper language=\"bash\">yarn install\nyarn build</LessonCodeWrapper>\n\n</li>\n\n\n<li>\n\nЗапустите сервер RoSeMAN:\n\n<LessonCodeWrapper language=\"bash\">yarn start</LessonCodeWrapper>\n\nВеб-сервер должен запуститься по адресу `http://127.0.0.1:3000`.\n\n</li>\n\n</List>\n\n## После установки\n\nПосле развертывания RoSeMAN на сервере вам нужно получить публичный IP-адрес или URL сервера. В качестве альтернативы, если вы запускаете RoSeMAN и карту датчиков на одном сервере, вы можете использовать локальный IP-адрес.\n\nЗатем вам нужно открыть файл конфигурации карты датчиков и вставить ваш URL в файл `config.json` в поле `REMOTE_PROVIDER`\n\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">...\n  },\n  REMOTE_PROVIDER: \"https://your.roseman.example.org/\",\n  WIND_PROVIDER: \"\",\n  MAP: {\n...</LessonCodeWrapper>\n\nПересоберите карту с помощью `yarn build` и запустите ее снова; вы сможете увидеть историю измерений.","fileInfo":{"path":"ru/learn/sensors-connectivity-course/robonomics-sensors-measure-analytics-and-archive-node.md","name":"robonomics-sensors-measure-analytics-and-archive-node"},"defaultName":"Sensors Connectivity & Decentralized Sensors Network","lastUpdate":null}},"context":{}}