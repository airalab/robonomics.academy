{"hash":"94f13789db7ff3910ce38bd85f3d1c9bd0ae6890","data":{"course":{"id":"6884688170c7f7e8e4a8f195d476fef9","title":"Lezione n. 5, Opzioni di configurazione della connettività dei sensori","description":"OPZIONI DI CONFIGURAZIONE DELLA CONNETTIVITÀ DEI SENSORI","content":"\nPer ora solo il sensore SDS011 è supportato out-of-box, ma è abbastanza facile aggiungere altri sensori e abbiamo preparato alcune configurazioni pronte all'uso. Una panoramica completa dei campi di configurazione è disponibile [qui](https://github.com/airalab/sensors-connectivity/tree/master/connectivity/config). Successivamente esamineremo diversi scenari di configurazione avanzati.\n\n## Scenario n. 1: Collegare SDS011 alla porta seriale\n\nIl modo più semplice e diretto per collegare il sensore alla rete è utilizzare la porta seriale. \n\n<List type=\"numbers\">\n\n<li>\n\nCollega la scheda a una porta USB e trova il percorso per raggiungerla. In questo esempio è `ttyUSB0`.\n\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">$ ls -l /dev/serial/by-id\ntotal 0\nlrwxrwxrwx 1 root root 13 sep 5 14:01 usb-1a86_USB2.0-Ser_-if00-port0 -> ../../ttyUSB0</LessonCodeWrapper>\n</li>\n\n<li>\n\nCrea un nuovo file di configurazione o modifica quello esistente con quanto segue. Non dimenticare di inserire il percorso del database nel campo `db_path`, il percorso della scheda nel campo `port` e la latitudine / longitudine di un sensore nel campo `geo`.\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">{\n   \"general\": {\n      \"publish_interval\": 30,\n      \"db_path\": \"<YOUR/PATH/TO/DATABASE>\"\n   },\n   \"comstation\":{\n      \"enable\":true,\n      \"port\":\"/dev/<YOUR/PATH/TO/BOARD>\",\n      \"work_period\":300,\n      \"geo\":\"00.000000,00.000000\",\n      \"public_key\":\"\"\n   },\n   \"httpstation\": {\n      \"enable\": false,\n      \"port\": 8001\n   },\n   \"mqttstation\": {\n      \"enable\": false,\n      \"host\": \"localhost\",\n      \"port\": 1883,\n      \"topic\": \"/freertos_mqtt_robonomics_example/#\",\n      \"username\": \"\",\n      \"password\": \"\"\n   },\n   \"robonomics\": {\n      \"enable\": true,\n      \"ipfs_provider\": \"/ip4/127.0.0.1/tcp/5001/http\",\n      \"ipfs_topic\": \"airalab.lighthouse.5.robonomics.eth\"\n   },\n   \"datalog\": {\n      \"enable\": false,\n      \"suri\": \"\",\n      \"dump_interval\": 60,\n      \"temporal_username\": \"\",\n      \"temporal_password\": \"\",\n      \"pinata_api\": \"\",\n      \"pinata_secret\": \"\"\n   },\n   \"dev\": {\n      \"sentry\": \"\"\n   },\n   \"frontier\": {\n      \"enable\": false,\n      \"suri\": \"\"\n   },\n   \"trackagro\": {\n      \"enable\": false,\n      \"token\": \"\"\n   }\n}</LessonCodeWrapper>\n\n</li>\n\n<li>Avvia il modulo di connettività dei sensori.</li>\n\n</List>\n\n\n## Scenario n. 2: Collegare SDS011 tramite MQTT\n\n<RoboAcademyNote type=\"okay\" title=\"INFO\">Il firmware dei sensori Robonomics non funziona con MQTT. Queste impostazioni sono per sensori aggiuntivi, che funzionano tramite MQTT.\n</RoboAcademyNote>\n\n<List type=\"numbers\">\n\n<li>\n\nInstalla e configura un broker MQTT (come [Mosquitto](https://mosquitto.org/) o simile).\n\n</li>\n\n<li>\n\nCrea un nuovo file di configurazione o modifica quello esistente con quanto segue. Inserisci:\n\n- il percorso del tuo database nel campo `db_path`\n\n- un percorso della scheda nel campo `port` nella sezione `comstation`\n\n- una latitudine / longitudine di un sensore nel campo `geo`\n\n- un host del broker MQTT nel campo `host` nella sezione `mqttstation`\n\n- una porta del broker MQTT nel campo `port` nella sezione `mqttstation`\n\n- un argomento in cui i tuoi sensori inviano i dati nel campo `topic`\n\n- `username` e `password` per connettersi al broker se richiesto.\n\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">{\n   \"general\": {\n      \"publish_interval\": 30,\n      \"db_path\": \"<YOUR/PATH/TO/DATABASE>\"\n   },\n   \"comstation\":{\n      \"enable\":false,\n      \"port\":\"/dev/<YOUR/PATH/TO/BOARD>\",\n      \"work_period\":300,\n      \"geo\":\"00.000000,00.000000\",\n      \"public_key\":\"\"\n   },\n   \"httpstation\": {\n      \"enable\": false,\n      \"port\": 8001\n   },\n   \"mqttstation\": {\n      \"enable\": true,\n      \"host\": \"[YOUR_MQTT_BROKER_HOST]\",\n      \"port\": \"[YOUR_MQTT_BROKER_PORT]\",\n      \"topic\": \"[MQTT_TOPIC_OF_SENSORS]\",\n      \"username\": \"YOUR_MQTT_USERNAME\",\n      \"password\": \"YOUR_MQTT_PASSWORD\"\n   },\n   \"robonomics\": {\n      \"enable\": true,\n      \"ipfs_provider\": \"/ip4/127.0.0.1/tcp/5001/http\",\n      \"ipfs_topic\": \"airalab.lighthouse.5.robonomics.eth\"\n   },\n   \"datalog\": {\n      \"enable\": false,\n      \"suri\": \"\",\n      \"dump_interval\": 60,\n      \"temporal_username\": \"\",\n      \"temporal_password\": \"\",\n      \"pinata_api\": \"\",\n      \"pinata_secret\": \"\"\n   },\n   \"dev\": {\n      \"sentry\": \"\"\n   },\n   \"frontier\": {\n      \"enable\": false,\n      \"suri\": \"\"\n   },\n   \"trackagro\": {\n      \"enable\": false,\n      \"token\": \"\"\n   }\n}</LessonCodeWrapper>\n\n</li>\n\n<li>Avvia il modulo di connettività dei sensori.</li>\n\n</List>\n\n## Scenario #3: Pubblica i dati dei sensori con Robonomics Datalog\n\nQuesto scenario mostra come caricare i dati del tuo sensore sulla parachain di Robonomics con la funzione datalog. Datalog è l'analogia della telemetria nelle tecnologie web3. La funzione è destinata a creare uno snapshot dei dati del sensore ogni periodo di tempo, aumentando la affidabilità dei dati. Non importa come vengono raccolti i dati: tramite HTTP, MQTT o COM.\n\n<RoboAcademyNote type=\"warning\" title=\"WARNING\">Devi avere token XRT sul tuo account\n</RoboAcademyNote>\n\n<List type=\"numbers\">\n\n<li>\n\nCrea un nuovo file di configurazione o modifica quello esistente con quanto segue. Inserisci:\n\n- il percorso del tuo database nel campo `db_path`\n\n- un percorso della scheda nel campo `port` nella sezione `comstation`\n\n- una latitudine / longitudine di un sensore nel campo `geo`\n\n- una chiave privata dall'account della parachain di Robonomics nel campo `suri`\n\n- un periodo di tempo per la raccolta dei secondi di accesso nel campo `dump_interval`.\n\n- (facoltativo) credenziali per caricare file su [Temporal.Cloud](http://Temporal.Cloud) nei campi `temporal_username`, `temporal_password`\n\n- (facoltativo) credenziali per caricare file su Pinata nei campi `pinata_api`, `pinata_secret`\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">{\n   \"general\": {\n      \"publish_interval\": 30,\n      \"db_path\": \"[YOUR/PATH/TO/DATABASE]\"\n   },\n   \"comstation\":{\n      \"enable\":false,\n      \"port\":\"/dev/[YOUR/PATH/TO/BOARD]\",\n      \"work_period\":300,\n      \"geo\":\"00.000000,00.000000\",\n      \"public_key\":\"\"\n   },\n   \"httpstation\": {\n      \"enable\": true,\n      \"port\": 8001\n   },\n   \"mqttstation\": {\n      \"enable\": false,\n      \"host\": \"localhost\",\n      \"port\": 1883,\n      \"topic\": \"/freertos_mqtt_robonomics_example/#\",\n      \"username\": \"\",\n      \"password\": \"\"\n   },\n   \"robonomics\": {\n      \"enable\": true,\n      \"ipfs_provider\": \"/ip4/127.0.0.1/tcp/5001/http\",\n      \"ipfs_topic\": \"airalab.lighthouse.5.robonomics.eth\"\n   },\n   \"datalog\": {\n      \"enable\": true,\n      \"suri\": \"[YOUR_PRIVATE_KEY]\",\n      \"dump_interval\": TIME_PERIOD,\n      \"temporal_username\": \"YOUR_TEMPORAL_USERNAME\",\n      \"temporal_password\": \"YOUR_TEMPORAL_PASSWORD\",\n      \"pinata_api\": \"YOUR_PINATA_API_KEY\",\n      \"pinata_secret\": \"YOUR_PINATA_SECRET\"\n   },\n   \"dev\": {\n      \"sentry\": \"\"\n   },\n   \"frontier\": {\n      \"enable\": true,\n      \"suri\": \"\"\n   },\n   \"trackagro\": {\n      \"enable\": false,\n      \"token\": \"\"\n   }\n}</LessonCodeWrapper>\n\n</li>\n\n<li>Avvia il modulo Connettività Sensori.</li>\n\n</List>","fileInfo":{"path":"it/learn/sensors-connectivity-course/sensors-connectivity-config-options.md","name":"sensors-connectivity-config-options"},"defaultName":"Sensors Connectivity & Decentralized Sensors Network","lastUpdate":null}},"context":{}}