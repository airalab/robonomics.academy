{"hash":"e32ec6aa0237b51fe496ef5a5df720ef84304a93","data":{"course":{"id":"07550e130ad629b58d165b44b0c6e189","title":"Lezione n. 5, Configurazione dell'abbonamento Robonomics IoT","description":"corso di assistente domestico","content":"\n\n## Di cosa si tratta\n\nL'abbonamento Robonomics IoT consente agli utenti di utilizzare tutte le funzioni della parachain per un certo periodo senza pagare le commissioni di transazione standard. Attivando l'abbonamento, i dispositivi saranno in grado di inviare transazioni in priorità.\n\nIn questa lezione, creerai gli account necessari per la sicurezza della smart home e acquisterai un abbonamento IoT.\n\n## Teoria\n\nUn abbonamento IoT, così come il metodo con cui viene acquistato e gestito, è implementato utilizzando un pallet <code>rws</code>, che contiene tutte le funzioni necessarie. In generale, gli abbonamenti in Robonomics vengono venduti con un modello di asta, che utilizza un estrinseco <code>rws.startAuction()</code> per creare un'asta per un ID di abbonamento specifico. Gli utenti possono accedere all'asta tramite ID e fare offerte utilizzando un estrinseco <code>rws.bid()</code>.\n\nDopo la fine dell'asta, l'indirizzo con l'offerta vincente viene assegnato all'abbonamento. Ora questo indirizzo sarà in grado di inviare transazioni tramite l'estrinseco <code>rws.call()</code> senza commissioni. Tuttavia, ciò non significa che l'indirizzo possa farlo incontrollabilmente in qualsiasi momento: ogni abbonamento ha una certa quantità di un valore <code>weight</code>, che deve accumularsi prima che possa essere eseguita una transazione gratuita. Alcuni valori di <code>weight</code> vengono aggiunti all'abbonamento ad ogni blocco generato nella parachain, grazie a questo, Robonomics regola la larghezza di banda della parachain.\n\nInoltre, il proprietario dell'abbonamento può utilizzare l'estrinseco <code>rws.setDevices()</code>, che condivide l'uso dell'abbonamento agli indirizzi specificati. Allo stesso tempo, il <code>weight</code> rimane lo stesso, quindi più indirizzi nell'abbonamento, più tempo dovranno aspettare prima di inviare la transazione gratuita.\n\nPer controllare Home Assistant con Robonomics, è necessario avere due account sulla parachain di Robonomics. Questi account forniranno sicurezza per il tuo Home Assistant.\n\nCon uno degli account (<code>SUB_OWNER</code>), acquisterai un abbonamento Robonomics. Questo account funge da amministratore principale dell'abbonamento IoT e fornisce accesso a Home Assistant ad altri utenti (utilizzando <code>rws.setDevices()</code>). Questo account deve avere alcuni token XRT per completare le transazioni di acquisto dell'abbonamento.\n\nIl secondo account (<code>SUB_CONTROLLER</code>) controllerà tutti i processi di Home Assistant dei dispositivi (come la telemetria). Le transazioni dei tuoi dispositivi verranno inviate per conto dell'account <code>SUB_CONTROLLER</code>. Tu (e chiunque altro) potrai vedere queste transazioni in qualsiasi esploratore di parachain come [Subscan](https://robonomics.subscan.io/). Tuttavia, solo tu potrai decifrare i contenuti di queste transazioni fintanto che possiedi in modo sicuro le frasi seed necessarie.\n\n## Istruzioni\n\n<List type=\"numbers\">\n\n<li>\n\nCreazione degli Account Parachain Owner e Controller\n\n<List>\n\n<li>\n\n<robo-academy-note type=\"warning\" title=\"WARNING\">\nEntrambi gli account devono essere creati con crittografia ed25519.\n</robo-academy-note>\n\n</li>\n\n<li>\n\nVai all'app Robonomics Parachain su [Polkadot / Substrate Portal](https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fkusama.rpc.robonomics.network%2F#/) su Polkadot / Substrate Portal. Controlla l'angolo in alto a sinistra per assicurarti di essere connesso alla Parachain di Robonomics.\n\n</li>\n\n<li>\n\nA causa dell'uso del formato *ed25519*, è necessario creare un account utilizzando l'interfaccia utente Polkadot-JS e selezionare la crittografia richiesta. \n\nQuesta funzionalità è disabilitata per impostazione predefinita sull'interfaccia utente Polkadot-JS. Per abilitarla, vai a <code>Impostazioni</code> -> <code>Generale</code> -> <code>opzioni account</code> e seleziona <code>Consenti archiviazione locale in-browser account</code> nel menu a discesa <code>creazione account in-browser</code>.\n \n</li>\n\n<li>\n\nVai su <code>Account</code> -> <code>Account</code> e premi il pulsante <code>Aggiungi account</code>. Vedrai il menu a comparsa con il seed dell'account. Ha due forme: *Mnemonic* (leggibile dall'essere umano) e *Raw* (una sequenza di cifre e lettere).\n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmQiJYPYajUJXENX2PzSJMSKGSshyWyPNqugSYxP5eCNvm', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nApri <code>Opzioni avanzate di creazione</code>, cambia il tipo di crittografia per la creazione dell'account in <code>Edwards - ed25519</code>. Salva la frase seed mnemonica in modo sicuro e premi <code>Avanti</code>.\n\n</li>\n\n<li>\n\nNel menu successivo, è necessario impostare il nome dell'account e la password. Dà un nome <code>SUB_OWNER</code> per comodità e premi <code>Avanti</code>.\n\n</li>\n\n<li>\n\nNell'ultima finestra clicca su <code>Salva</code> per completare la creazione dell'account. Genererà anche dei file JSON di backup che dovresti conservare in modo sicuro. In seguito potrai utilizzare questo file per ripristinare il tuo account se ricordi la password.\n\n</li>\n\n<li>\n\nRipeti questi passaggi per l'account <code>SUB_CONTROLLER</code>.\n\n</li>\n</List>\n</li>\n\n<li>\n\nAggiunta di account all'estensione Polkadot.js\n\n<List type=\"numbers\">\n\n<li>\n\nPer comodità, dovresti utilizzare l'estensione Polkadot.js e aggiungere questi account appena creati ad essa. Per un account ed25519 puoi farlo solo con un file JSON di backup. Puoi utilizzare i file salvati quando hai creato gli account.\n\nPuoi ottenere di nuovo questi file creando un file di backup dell'account. Premi sui tre puntini sul tuo account, scegli <code>Crea un file di backup per questo account</code> e inserisci la tua password.\n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmRd7gztUjWkLF4W2XuJwy5aXBwzNV2aPCU6CQQLvUpSNj', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nApri un'estensione e premi il pulsante <code>+</code> in alto a destra, quindi scegli <code>Ripristina account da file JSON di backup</code>.\n\n</li>\n\n<li>\n\nIn una finestra aperta carica il file JSON, inserisci la password e premi <code>Ripristina</code>\n\n</li>\n\n<li>\n\nAssicurati che la rete Robonomics sia selezionata per gli account nell'estensione Polkadot.js. Su Polkadot / Substrate Portal vai su <code>Impostazioni</code> -> <code>Metadati</code> e clicca sul pulsante <code>Aggiorna metadati</code>. \n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmT5sTNP9t8gpbD4RJJw6ETwG4wiziiChAh2uHHBk9Zsyd', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nConferma l'aggiornamento dei metadati nel popup. Ora l'estensione mostrerà l'etichetta della rete per cui l'indirizzo è utilizzato.\n\n</li>\n\n</List>\n</li>\n\n<li>\n\nAttivazione dell'abbonamento Robonomics\n\n<List >\n\n<li>\n\n<robo-academy-note type=\"okay\">\nPer questo passaggio, devi avere una quantità sufficiente di token XRT (minimo 2-3 XRT) nel tuo account <code>SUB_OWNER</code>.\n</robo-academy-note>\n\nVai alla dapp Robonomics alla [pagina di abbonamento](https://dapp.robonomics.network/#/subscription) e premi <code>connetti account</code> nella barra laterale destra.\n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmXrFCajmJgkRDSbshGD3QehjnoyS6jafEPSjHdYkoBHum', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nNel menu popup successivo collega l'estensione Polkadot.js. Vedrai il tuo indirizzo dell'account con il saldo.\n\n</li>\n\n<li>\n\nPrima dell'acquisto, controlla di aver scelto l'account <code>SUB_OWNER</code>. Premi sull'icona del profilo dell'indirizzo, dovresti vedere l'account <code>SUB_OWNER</code> sotto il campo <code>Controlla account proprietario</code>.\n\n</li>\n\n<li>\n\nInfine, premi il pulsante <code>INVIA</code> e inserisci la password per il tuo account. Dopo di che attendi fino a quando il processo di attivazione è completato. Vedrai lo stato del tuo abbonamento dopo un po' di tempo.\n\nSe non ci sono abbonamenti disponibili, **contatta** il team Robonomics.\n\n</li>\n</List>\n</li>\n\n<li>\n\nAggiunta dell'account all'abbonamento\n\n<List type=\"numbers\">\n\n<li>\n\nOra devi aggiungere l'account <code>SUB_CONTROLLER</code> alla **lista di accesso**. Apri l'estensione e clicca sull'icona vicino al nome dell'account. Copierà l'indirizzo dell'account.\n\n<LessonVideo  :videos=\"[{src: 'https://crustipfs.info/ipfs/QmV1gkwtcXsWv54ov9tuXfcHg7nqs1foM8cRwts4sqnqtX', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nIncolla questo indirizzo nel campo <code>Indirizzo della parachain Robonomics</code> nella parte **Gestisci accesso**.\n\nDagli un nome e premi il pulsante <code>+</code>. Inserisci la password del tuo <code>SUB_OWNER</code> nella finestra popup e attendi fino a quando il processo di attivazione è completato.\n\n</li>\n\n<li>\n\nRipeti i passaggi per l'account <code>SUB_OWNER</code>.\n</li>\n</List>\n</li>\n</List>","fileInfo":{"path":"it/learn/smart-home-course/robonomics-iot-subscription-setup.md","name":"robonomics-iot-subscription-setup"},"defaultName":"Sovereign Smart Home with Robonomics and Home Assistant","lastUpdate":"Thu May 18 2023 10:46:29 GMT+0400 (Samara Standard Time)"}},"context":{}}