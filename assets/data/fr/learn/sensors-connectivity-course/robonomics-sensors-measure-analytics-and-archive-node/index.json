{"hash":"d581ab531c5af1fcf498eba534e7cd9db8b6d676","data":{"course":{"id":"625222eaef3e2556ca23d364ee73bd94","title":"Leçon n°7, les capteurs Robonomics mesurent les analyses et archivent les nœuds","description":"ROBONOMICS CAPTEURS MESURE ANALYTIQUE ET ARCHIVE NOEUD","content":"\nLes capteurs Robonomics mesurent les analyses et archivent les nœuds ou RoSeMAN est un service d'accumulation de données de capteurs pour montrer l'historique des mesures. Dans cet article, vous allez configurer le service.\n\n## Exigences\n\nRoSeMAN nécessite un serveur de base de données [MongoDB](https://www.mongodb.com/docs/manual/introduction/), il est supposé que vous l'avez déjà. De plus, vous devez activer l'option datalog pour le module de connectivité des capteurs, comme indiqué dans le scénario n°3. Vous devez avoir des jetons XRT gratuits sur votre compte Robonomics, qui est connecté au module de connectivité des capteurs. \n\n\n## Configuration\n\n<List type=\"numbers\">\n\n<li>\n\nTéléchargez le dépôt :\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">git clone https://github.com/airalab/RoSeMAN.git\ncd RoSeMAN</LessonCodeWrapper>\n\n</li>\n\n\n<li>\n\nCréez des fichiers de configuration :\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">cp config.template.json config.json\ncp agents.template.json agents.json</LessonCodeWrapper>\n\n</li>\n\n<li>\n\nOuvrez le fichier `config.json` et modifiez le chemin de la base de données :\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">...\n  \"DB\": {\n    \"path\": \"mongodb://localhost:27017/rosemandb\"\n  },\n...</LessonCodeWrapper>\n\n</li>\n\n\n<li>\n\nAjoutez l'adresse publique de votre compte au fichier `agents.json`. Vous pouvez ajouter plusieurs adresses au fichier, si vous souhaitez collecter des données à partir de différents modules de connectivité des capteurs.\n\n</li>\n\n\n<li>\n\nInstallez les dépendances et construisez le serveur :\n\n<LessonCodeWrapper language=\"bash\">yarn install\nyarn build</LessonCodeWrapper>\n\n</li>\n\n\n<li>\n\nDémarrez le serveur RoSeMAN :\n\n<LessonCodeWrapper language=\"bash\">yarn start</LessonCodeWrapper>\n\nLe serveur Web devrait se lancer à l'adresse `http://127.0.0.1:3000`.\n\n</li>\n\n</List>\n\n## Post-installation\n\nAprès le déploiement de RoSeMAN sur un serveur, vous devez obtenir l'adresse IP publique ou l'URL du serveur. Alternativement, si vous exécutez RoSeMAN et la carte des capteurs sur le même serveur, vous pouvez utiliser l'adresse IP locale.\n\nEnsuite, vous devez ouvrir le fichier de configuration de la carte des capteurs et insérer votre URL dans le fichier `config.json` dans le champ `REMOTE_PROVIDER` :\n\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">...\n  },\n  REMOTE_PROVIDER: \"https://your.roseman.example.org/\",\n  WIND_PROVIDER: \"\",\n  MAP: {\n...</LessonCodeWrapper>\n\nReconstruisez la carte avec `yarn build` et redémarrez-la ; vous pourrez voir l'historique des mesures.","fileInfo":{"path":"fr/learn/sensors-connectivity-course/robonomics-sensors-measure-analytics-and-archive-node.md","name":"robonomics-sensors-measure-analytics-and-archive-node"},"defaultName":"Sensors Connectivity & Decentralized Sensors Network","lastUpdate":null}},"context":{}}