{"hash":"ebf92df2790a8f2dc659c241c969d5c9f2c95e48","data":{"course":{"id":"ffb89f6b2a0bf48b6c5a57e773f300bf","title":"Leçon n°3, Configuration et connexion des capteurs","description":"CONFIGURATION ET CONNEXION DES CAPTEURS","content":"\nNos capteurs utilisent le micrologiciel Robonomics, une version étendue du micrologiciel sensor.community, avec certains capteurs ajoutés et le schéma d'envoi de données modifié. Le code source peut être trouvé [sur le lien.](https://github.com/LoSk-p/sensors-software/tree/master/airrohr-firmware)\n\nSi vous avez une carte Robonomics prête à l'emploi, vous pouvez aller à la section \"Connecter\".\n\n## Exigences\n\n**Pour Linux :**\n\n<List type=\"numbers\">\n\n<li>\n\nAjoutez un utilisateur au groupe `dialout` (pour Ubuntu) pour accéder au port USB :\n\n<LessonCodeWrapper language=\"bash\" noLines>sudo usermod -a -G dialout $USER</LessonCodeWrapper>\n\n</li>\n\n<li>Redémarrez l'ordinateur.</li>\n\n<li>\n\nTéléchargez l'exécutable Robonomics `airrohr-flasher` depuis [les versions](https://github.com/airalab/sensors-connectivity/releases).\n\n</li>\n\n<li>\n\nChangez les permissions du fichier et exécutez-le :\n\n<LessonCodeWrapper language=\"bash\">chmod +x airrohr-flasher-linux\n./airrohr-flasher-linux</LessonCodeWrapper>\n\n\n</li>\n\n</List>\n\n\n**Pour Windows :**\n\n<List type=\"numbers\">\n\n<li>\n\nInstaller les pilotes pour USB2serial (dans Windows 10, cela devrait démarrer automatiquement) - Pilotes pour NodeMCU v3 (CH340): [lien](http://www.wch.cn/downloads/file/5.html), [lien alternatif](https://d.inf.re/luftdaten/CH341SER.ZIP). \n\n</li>\n\n<li>\n\nTéléchargez l'exécutable Robonomics `airrohr-flasher` à partir de [releases](https://github.com/airalab/sensors-connectivity/releases) et exécutez-le.\n\n</li>\n\n</List>\n\n**Pour MacOS :**\n\n<List type=\"numbers\">\n\n<li>\n\nInstallez les pilotes pour USB2serial — Pilotes pour NodeMCU v3 (CH340) : [lien](http://www.wch.cn/downloads/file/178.html), [lien alternatif](https://d.inf.re/luftdaten/CH341SER_MAC.ZIP).\n\n</li>\n\n<li>\n\nTéléchargez l'exécutable Robonomics `airrohr-flasher` à partir de [releases](https://github.com/airalab/sensors-connectivity/releases) et exécutez-le.\n\n</li>\n\n</List>\n\n\n## Configuration\n\n<List type=\"numbers\">\n\n<li>\n\nConnectez le capteur à un PC et exécutez le programme `airrohr-flasher`. Après avoir ouvert le programme, vous verrez ce qui suit (en fonction de votre système d'exploitation):\n\n<LessonImages imageClasses=\"mb\" src=\"sensors-connectivity-course/lesson-3-0.png\" alt=\"tutorial image\"/>\n\n</li>\n\n<li>\n\nLe champ `Board` devrait se remplir automatiquement; sinon, choisissez le port requis dans la liste déroulante.\n\n<RoboAcademyNote type=\"okay\" title=\"INFO\">\nSi <code>airrohr-flasher</code> ne trouve pas votre carte, assurez-vous d'avoir correctement suivi la partie <b>Exigences</b>.\n</RoboAcademyNote>\n\n</li>\n\n<li>\n\nSélectionnez le micrologiciel avec la langue préférée et cliquez sur `Télécharger`. Le téléchargement du micrologiciel prendra un certain temps. Si vous décidez plus tard de changer de langue ou de réaliser une installation claire (pour réinitialiser la configuration), allez à la page `Effacer la mémoire flash` et appuyez sur le bouton pour effacer la mémoire flash du capteur.\n\n</li>\n\n<li>\n\nAprès avoir téléchargé le micrologiciel, redémarrez l'ESP (débranchez simplement et rebranchez l'USB).\n\n</li>\n\n<li>\n\nChoisissez les capteurs dans le menu de cases à cocher. Choisissez SDS011 et tout capteur supplémentaire. Appuyez sur `Enregistrer la configuration`.\n\n</li>\n\n<li>\n\nAprès avoir téléchargé la configuration, redémarrez l'ESP (débranchez simplement et rebranchez l'USB).\n\n</li>\n\n</List>\n\n## Connect\n\n<List type=\"numbers\">\n\n<li>\n\nAprès le redémarrage, la carte créera un réseau Wi-Fi nommé `RobonomicsSensor-xxxxxxxxx`. Connectez-vous-y depuis votre téléphone ou votre ordinateur : vous verrez la fenêtre d'autorisation (sinon, ouvrez le navigateur et allez dans `192.168.4.1`).\n\n</li>\n\n<li>\n\nSélectionnez votre réseau Wi-Fi dans la liste (ou écrivez-le vous-même s'il n'est pas dans la liste) et remplissez le champ du mot de passe.\n\n</li>\n\n<li>\n\nÉcrivez les coordonnées de l'endroit où le capteur sera installé.\n\n<RoboAcademyNote type=\"warning\" title=\"WARNING\">\nLes coordonnées du capteur seront ensuite affichées sur une carte publiquement disponible. Si vous ne souhaitez pas afficher vos informations privées, écrivez des coordonnées proches, mais pas exactes.\n</RoboAcademyNote>\n\n<LessonImages src=\"sensors-connectivity-course/lesson-3-1.png\" alt=\"tutorial image\"/>\n\n</li>\n\n<li>\n\nCliquez sur `Enregistrer la configuration et redémarre`. La carte redémarrera et se connectera au réseau Wi-Fi spécifié.\n\n</li>\n\n<li>\n\nOuvrez la [Carte des capteurs Robonomics](https://sensors.robonomics.network/#/) et trouvez l'endroit où vous avez installé le capteur. Dans quelques minutes, vous pourrez voir votre capteur avec des données sur la carte.\n\n\n<LessonImages src=\"sensors-connectivity-course/lesson-3-2.jpg\" alt=\"tutorial image\"/>\n\n</li>\n\n</List>\n\nC'est tout avec l'installation par défaut. Pour une configuration plus avancée (envoi de données vers votre propre serveur), lisez la section suivante.\n\n## Configuration supplémentaire\n\nAvant la configuration, vous devez trouver l'adresse du capteur dans votre réseau Wi-Fi. Pour ce faire, vous pouvez utiliser `airrohr-flasher` (votre ordinateur doit être sur le même réseau que le capteur). Lancez-le et allez à l'onglet `Discovery`, puis appuyez sur `Refresh`, attendez un moment et votre adresse de capteur apparaîtra.\n\n<LessonImages imageClasses=\"mb\" src=\"sensors-connectivity-course/lesson-3-3.png\" alt=\"tutorial image\"/>\n\nDouble-cliquez sur cette adresse (ou saisissez-la dans votre navigateur), vous accéderez au menu du capteur:\n\n<LessonImages imageClasses=\"mb\" src=\"sensors-connectivity-course/lesson-3-4.png\" alt=\"tutorial image\"/>\n\nMaintenant vous pouvez commencer à personnaliser votre configuration.\n\n\n## API personnalisée\n\nVous pouvez également configurer l'envoi de données vers votre propre serveur. Pour ce faire, dans l'onglet `APIs`, cliquez sur `Envoyer à votre propre API` et spécifiez l'adresse du serveur et le port (`65` pour la connectivité des capteurs):\n\n<LessonImages imageClasses=\"mb\" src=\"sensors-connectivity-course/lesson-3-6.png\" alt=\"tutorial image\"/>\n\nCliquez sur `Save and restart` pour enregistrer les paramètres.","fileInfo":{"path":"fr/learn/sensors-connectivity-course/setting-up-and-connecting-sensors.md","name":"setting-up-and-connecting-sensors"},"defaultName":"Sensors Connectivity & Decentralized Sensors Network","lastUpdate":null}},"context":{}}