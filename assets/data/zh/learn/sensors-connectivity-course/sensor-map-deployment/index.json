{"hash":"e32ec6aa0237b51fe496ef5a5df720ef84304a93","data":{"course":{"id":"d28ff3da41b4c3c706bc6b92b1104abb","title":"第6课，传感器地图部署","description":"传感器地图部署","content":"\n在组装传感器并设置传感器连接模块之后，是时候部署个人分散式传感器地图了。\n\n\n## 要求 ＆ 安装\n\n<List type=\"numbers\">\n\n<li>\n\n由于传感器地图由JavaScript驱动，首先需要安装`node`和`yarn`管理器：\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">sudo curl -fsSL https://deb.nodesource.com/setup_16.x | sudo -E bash -\nsudo apt-get install -y nodejs\nsudo npm install --global yarn</LessonCodeWrapper>\n\n</li>\n\n<li>\n\n下载并构建地图：\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">git clone https://github.com/airalab/sensors.robonomics.network.git\ncd sensors.robonomics.network/\nyarn install</LessonCodeWrapper>\n\n</li>\n\n<li>\n\n在`开发`模式下运行地图进行测试\n<LessonCodeWrapper language=\"bash\">yarn serve</LessonCodeWrapper>\n\n</li>\n\n<li>\n\n从终端转到 URL，您应该看到传感器地图。 之后，使用“Ctrl+C”停止它。\n\n</li>\n\n</List>\n\n## 配置\n\n<List type=\"numbers\">\n\n<li>\n\n使用以下命令找到您的IPFS ID：\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">$ ipfs id\n{\n\t\"ID\": \"QmUZxw8jsRpSx5rWkTpJokPGKvWihTrt5rbRCFXzJ4eCAP\",\n\t\"PublicKey\": \"CAASpgIwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQC/uMV3rLM/C+LOh2DGPo3chr+VM+vyYMKi...\n    ...</LessonCodeWrapper>\n\n</li>\n\n<li>\n\n转到`src`文件夹并重命名文件：\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"bash\">cd src\ncp config.template.json config.json\ncp agents.template.json agents.json</LessonCodeWrapper>\n\n</li>\n\n<li>\n\n在`agents.json`中插入您的IPFS ID：\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">[\n  \"QmUZxw8jsRpSx5rWkTpJokPGKvWihTrt5rbRCFXzJ4eCAP\"\n]</LessonCodeWrapper>\n\n</li>\n\n<li>\n\n打开`config.json`文件并更改配置文件的下一部分：\n\n<LessonCodeWrapper codeClass=\"big-code\" language=\"json\">...\n  REMOTE_PROVIDER: \"\",\n  WIND_PROVIDER: \"\",\n  MAP: {\n    zoom: \"8\",\n    position: {\n      lat: \"\",\n      lng: \"\",\n    },\n  },\n  SHOW_MESSAGES: true,\n};</LessonCodeWrapper>\n\n\n在这里，您需要插入您城市的纬度（`lat`）和经度（`lng`）。可选地，您可以设置[风向服务](https://github.com/danwild/wind-js-server)并在`WIND_PROVIDER`字段中提供URL。\n\n</li>\n\n</List>\n\n\n## 构建\n\n<List type=\"numbers\">\n\n<li>\n\n运行以下命令构建发布文件：\n\n<LessonCodeWrapper language=\"bash\">yarn build</LessonCodeWrapper>\n\n它将创建带有静态网站所有组件的`dist`目录。\n\n</li>\n\n<li>\n\n要检查一切是否正确，请转到`dist`目录并打开`index.html`文件。一段时间后，来自传感器连接模块的传感器数据将出现在地图上。\n\n</li>\n\n</List>\n\n","fileInfo":{"path":"zh/learn/sensors-connectivity-course/sensor-map-deployment.md","name":"sensor-map-deployment"},"defaultName":"Sensors Connectivity & Decentralized Sensors Network","lastUpdate":null}},"context":{}}