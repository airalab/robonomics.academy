{"hash":"cc71bf47aafce049dec68b910ec43100bf99e437","data":{"course":{"id":"b7573572baa05cdb7ee6b24860fca617","title":"Lektion #3, MQTT Broker Setup und Hass Init","description":"Home Assistant Kurs","content":"\n## Einführung\n\nNach Abschluss der Konfiguration des Raspberry Pi ist der nächste Schritt die Installation des MQTT Brokers auf dem Raspberry Pi. Wie oben erwähnt, ist der Broker für die Nachrichtenweiterleitung zwischen verschiedenen MQTT-Clients verantwortlich. Sie werden Eclipse Mosquitto, einen Open-Source-MQTT-Broker, installieren und konfigurieren.\n\n<LessonImages src=\"smart-house-course/lesson-3-1.jpg\" alt=\"scheme\" imageClasses=\"mb\"/>\n\nDarüber hinaus werden Sie das Home Assistant-Setup abschließen und MQTT-Integration hinzufügen.\n\n## Anweisungen\n\n<List type=\"numbers\">\n\n<li>\n\n\nMosquitto Broker Installation\n\n<List>\n<li>\n\nInstallieren Sie [Mosquitto Broker](https://mosquitto.org/) auf Ihrem Raspberry Pi:\n\n\n<LessonCodeWrapper language=\"bash\" noLines>\nsudo apt install mosquitto mosquitto-clients -y\n</LessonCodeWrapper>\n</li>\n\n<li>\n\nGeben Sie IHREN_BENUTZERNAMEN (verwenden Sie einen beliebigen) und das Passwort ein (Sie werden nach dem Befehl aufgefordert, das Passwort einzugeben):\n\n<LessonCodeWrapper language=\"bash\" noLines codeClass=\"big-code\">\nsudo mosquitto_passwd -c /etc/mosquitto/passwd YOUR_USERNAME\n</LessonCodeWrapper>\n\n</li>\n\n<li>\n\nBearbeiten Sie die Konfigurationsdatei:\n\n<LessonCodeWrapper language=\"bash\" noLines>\nsudo nano /etc/mosquitto/conf.d/local.conf\n</LessonCodeWrapper>\n\nFügen Sie Folgendes zur Datei hinzu:\n\n<LessonCodeWrapper language=\"bash\">\nlistener 1883\nallow_anonymous false\npassword_file /etc/mosquitto/passwd\n</LessonCodeWrapper>\n</li>\n\n<li>\n\nSpeichern Sie die Datei und starten Sie den Dienst neu:\n\n<LessonCodeWrapper language=\"bash\" noLines>\nsudo systemctl restart mosquitto\n</LessonCodeWrapper>\n</li>\n\n<li>\n\nÜberprüfen Sie schließlich den Status des Brokers:\n\n<LessonCodeWrapper language=\"bash\" noLines>\nsystemctl status mosquitto\n</LessonCodeWrapper>\n\nSie sollten etwas Ähnliches sehen:\n\n<LessonImages src=\"smart-house-course/lesson-3-2.jpg\" alt=\"code\"/>\n</li>\n</List>\n</li>\n\n<li>\n\nEinrichten von Home Assistant und MQTT\n\n<List>\n\n<li>\n\nÖffnen Sie den Webbrowser und gehen Sie zu <code>http://%RASPBERRY_IP_ADDRESS%:8123</code>. (mit derselben IP-Adresse, die Sie in der vorherigen Lektion gefunden haben). Beachten Sie, dass sich die IP-Adresse des Raspberry Pi im Laufe der Zeit aufgrund von Router-Einstellungen ändern kann. \n\n<LessonVideo controls :videos=\"[{src: 'https://crustipfs.info/ipfs/QmYd1Mh2VHVyF3WgvFsN3NFkozXscnCVmEV2YG86UKtK3C', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nGeben Sie auf der ersten Seite einen beliebigen Namen, Benutzernamen, ein Passwort ein und klicken Sie auf \"<code>CREATE ACCOUNT</code>\"\n</li>\n\n<li>\n\nAls nächstes geben Sie einen Namen für Ihr Zuhause ein und legen Sie Ihren Standort und das Einheitensystem fest. Klicken Sie auf \"<code>DETECT</code>\", um Ihren Standort zu finden und Ihre Zeitzone und Ihr Einheitensystem basierend auf diesem Standort festzulegen. Wenn Sie Ihren Standort lieber nicht senden möchten, können Sie diese Werte manuell festlegen.\n\n</li>\n\n<li>\n\nAuf dem nächsten Bildschirm zeigt Home Assistant alle Geräte an, die es in Ihrem Netzwerk entdeckt hat. Machen Sie sich keine Sorgen, wenn Sie weniger Elemente sehen als unten gezeigt; Sie können jederzeit Geräte manuell hinzufügen. Klicken Sie jetzt einfach auf <code>FINISH</code> und Sie gelangen zum Hauptbildschirm von Home Assistant.\n\n</li>\n\n<li>\n\nJetzt müssen wir eine MQTT-Integration installieren. Gehen Sie zu <code>Einstellungen</code> -> <code>Geräte & Dienste.</code>\n\n<LessonVideo controls :videos=\"[{src: 'https://crustipfs.info/ipfs/QmYm9qNfpGdePRHRvmahY2DgHXRfAWNN6CasEY4tFRBARr', type:'mp4'}]\" />\n\n</li>\n\n<li>\n\nDrücken Sie die Schaltfläche <code>ADD INTEGRATION</code> in der unteren rechten Ecke. Suchen Sie im geöffneten Fenster <code>MQTT</code>.\n\n</li>\n\n<li>\n\nWählen Sie MQTT aus und richten Sie Ihre Broker-Adresse ein — <code>localhost</code> Port — <code>1883</code> und Ihren Benutzernamen und Ihr Passwort (das gleiche, das Sie zuvor für den Mosquitto Broker erstellt haben) und drücken Sie dann <code>SUBMIT</code>.\n</li>\n\n</List>\n</li>\n</List>","fileInfo":{"path":"de/learn/smart-home-course/mqtt-broker-setup.md","name":"mqtt-broker-setup"},"defaultName":"Sovereign Smart Home with Robonomics and Home Assistant","lastUpdate":"Thu May 18 2023 10:46:29 GMT+0400 (Samara Standard Time)"}},"context":{}}