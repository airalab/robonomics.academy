(window.webpackJsonp=window.webpackJsonp||[]).push([[92],{"7A5G":function(e,n,o){"use strict";o.r(n);var t=o("7uw+"),a=o("UQSp"),r=o("Kw5r");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}r.a.config.optionMergeStrategies;var i={VueRemarkRoot:a.a},c=function(e){var n=e.options.components=e.options.components||{},o=e.options.computed=e.options.computed||{};Object.keys(i).forEach((function(e){"object"===s(i[e])&&"function"==typeof i[e].render||"function"==typeof i[e]&&"function"==typeof i[e].options.render?n[e]=i[e]:o[e]=function(){return i[e]}}))},l=r.a.config.optionMergeStrategies,p="__vueRemarkFrontMatter",u={excerpt:null,title:"Connect Kuka manipulator",description:"Connect Manipulator",docId:3,metaOptions:["Playground"]};var d=function(e){e.options[p]&&(e.options[p]=u),r.a.util.defineReactive(e.options,p,u),e.options.computed=l.computed({$frontmatter:function(){return e.options[p]}},e.options.computed)},_=Object(t.a)({},(function(){var e=this,n=e.$createElement,o=e._self._c||n;return o("VueRemarkRoot",[o("p",[e._v("Video with an example of work can be found here:")]),o("div",{staticClass:"youtube-embed"},[o("div",{staticStyle:{width:"100%",margin:"0 auto"}},[o("div",{staticStyle:{position:"relative","padding-bottom":"56.25%","padding-top":"25px",height:"0"}},[o("iframe",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},attrs:{src:"https://www.youtube-nocookie.com/embed/z55HepXbHr8",allow:"autoplay; encrypted-media",allowfullscreen:""}})])])]),o("br"),o("hr"),o("br"),o("h2",{attrs:{id:"requirements"}},[o("a",{attrs:{href:"#requirements","aria-hidden":"true"}},[o("span",{staticClass:"icon icon-link"})]),e._v("Requirements")]),o("List",[o("li",{staticClass:"flex"},[o("p",[e._v("ROS melodic, Gazebo (installation instraction "),o("a",{attrs:{href:"http://wiki.ros.org/melodic/Installation/Ubuntu",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("here")]),e._v(")")])]),o("li",[e._v("Some extra packages\n"),o("LessonCodeWrapper",{attrs:{language:"bash",codeClass:"big-code"}},[e._v("\nsudo apt-get install ros-melodic-gazebo-ros-control ros-melodic-effort-controllers ros-melodic-joint-state-controller\n")])],1),o("li",[e._v(" IPFS 0.4.22 \n"),o("p",[e._v("(download from "),o("a",{attrs:{href:"https://www.npackd.org/p/ipfs/0.4.22",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("here")]),e._v(" and install)")]),o("LessonCodeWrapper",{attrs:{language:"bash",codeClass:"big-code"}},[e._v("\ntar -xvzf go-ipfs_v0.4.22_linux-386.tar.gz\ncd go-ipfs/\nsudo bash install.sh\nipfs init\n")])],1),o("li",[e._v("pip3\n"),o("LessonCodeWrapper",{attrs:{language:"bash"}},[e._v("\nsudo apt-get install python3-pip\n")])],1),o("li",[e._v("ipfshttpclient\n"),o("LessonCodeWrapper",{attrs:{language:"bash"}},[e._v("\npip3 install ipfshttpclient\n")])],1),o("li",[e._v("substrate-interface\n"),o("LessonCodeWrapper",{attrs:{language:"bash"}},[e._v("\npip3 install substrate-interface\n")])],1),o("li",{staticClass:"flex"},[o("p",[e._v("Robonomics node (binary file) (download latest release "),o("a",{attrs:{href:"https://github.com/airalab/robonomics/releases",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("here")]),e._v(")")])]),o("li",[e._v("IPFS browser extension (not necessary)")])]),o("br"),o("hr"),o("br"),o("h2",{attrs:{id:"installation"}},[o("a",{attrs:{href:"#installation","aria-hidden":"true"}},[o("span",{staticClass:"icon icon-link"})]),e._v("Installation")]),o("p",[e._v("Install Kuka manipulator and control packages")]),o("LessonCodeWrapper",{attrs:{language:"bash",codeClass:"big-code"}},[e._v("cd catkin_wc/src/\ngit clone https://github.com/orsalmon/kuka_manipulator_gazebo\ngit clone https://github.com/LoSk-p/kuka_controller\ncd ..\ncatkin_make")]),o("hr"),o("br"),o("h2",{attrs:{id:"running-gazebo-model"}},[o("a",{attrs:{href:"#running-gazebo-model","aria-hidden":"true"}},[o("span",{staticClass:"icon icon-link"})]),e._v("Running gazebo model")]),o("LessonCodeWrapper",{attrs:{language:"bash",codeClass:"big-code"}},[e._v("\nsource ~/catkin_ws/devel/setup.bash\nroslaunch manipulator_gazebo manipulator_empty_world.launch\n")]),o("p",[e._v("In a new window")]),o("LessonCodeWrapper",{attrs:{language:"bash"}},[e._v("\nsource ~/catkin_ws/devel/setup.bash\nrosrun manipulator_gazebo move_arm_server\n")]),o("LessonImages",{attrs:{imageClasses:"mb",src:"kuka/1.png",alt:"model"}}),o("hr"),o("br"),o("h2",{attrs:{id:"running-robonomics"}},[o("a",{attrs:{href:"#running-robonomics","aria-hidden":"true"}},[o("span",{staticClass:"icon icon-link"})]),e._v("Running robonomics")]),o("p",[e._v("Go to the folder with robonomics file ad create a local robonomics network:")]),o("LessonCodeWrapper",{attrs:{language:"bash"}},[e._v("\n./robonomics --dev --tmp\n")]),o("LessonImages",{attrs:{imageClasses:"mb",src:"kuka/robonomics.png",alt:"robonomics"}}),o("p",[e._v("Go to "),o("a",{attrs:{href:"https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fkusama.rpc.robonomics.network%2F#/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Robonomics Parachain portal")]),e._v(" and switch to local node")]),o("LessonImages",{attrs:{imageClasses:"mb",src:"kuka/local.png",alt:"local"}}),o("p",[e._v("Then go to Accounts and create "),o("code",{pre:!0},[e._v("KUKA")]),e._v(" account. Save account's mnemonic key, you will need it later. ")]),o("LessonImages",{attrs:{imageClasses:"mb",src:"kuka/create_acc.png",alt:"acc"}}),o("p",[e._v("Send some units to the new account from one of default accounts.")]),o("LessonImages",{attrs:{imageClasses:"mb",src:"kuka/send_money.png",alt:"accs"}}),o("hr"),o("br"),o("h2",{attrs:{id:"running-ipfs"}},[o("a",{attrs:{href:"#running-ipfs","aria-hidden":"true"}},[o("span",{staticClass:"icon icon-link"})]),e._v("Running ipfs")]),o("p",[e._v("Run ipfs daemon:")]),o("LessonCodeWrapper",{attrs:{language:"bash"}},[e._v("\nipfs daemon\n")]),o("hr"),o("br"),o("h2",{attrs:{id:"running-control-package"}},[o("a",{attrs:{href:"#running-control-package","aria-hidden":"true"}},[o("span",{staticClass:"icon icon-link"})]),e._v("Running control package")]),o("p",[e._v("In config directory in kuka_control package you need to create config file with this lines, where "),o("code",{pre:!0},[e._v("<your_mnemonic>")]),e._v(" is saved mnemonic seed:")]),o("LessonCodeWrapper",{attrs:{language:"bash"}},[e._v('\n{\n    "kuka_mnemonic": "[your_mnemonic]",\n    "node": "ws://127.0.0.1:9944"\n}\n')]),o("p",[e._v("Now you can run control script:")]),o("LessonCodeWrapper",{attrs:{language:"bash"}},[e._v("\nsource ~/catkin_ws/devel/setup.bash\nrosrun kuka_controller move_arm_client.py\n")]),o("LessonImages",{attrs:{imageClasses:"mb",src:"kuka/run.png",alt:"control"}}),o("h2",{attrs:{id:"sending-transaction"}},[o("a",{attrs:{href:"#sending-transaction","aria-hidden":"true"}},[o("span",{staticClass:"icon icon-link"})]),e._v("Sending transaction")]),o("p",[e._v("In "),o("a",{attrs:{href:"https://polkadot.js.org/apps/?rpc=wss%3A%2F%2Fkusama.rpc.robonomics.network%2F#/",target:"_blank",rel:"nofollow noopener noreferrer"}},[e._v("Robonomics Parachain portal")]),e._v(" go to "),o("code",{pre:!0},[e._v("Developer/Extrinsics")]),e._v(", change "),o("code",{pre:!0},[e._v("extrinsic")]),e._v(" to "),o("code",{pre:!0},[e._v("launch")]),e._v(". Chose your "),o("code",{pre:!0},[e._v("KUKA")]),e._v(" account in "),o("code",{pre:!0},[e._v("robot")]),e._v(" and change "),o("code",{pre:!0},[e._v("param")]),e._v(" to "),o("code",{pre:!0},[e._v("Yes")]),e._v(". The press "),o("code",{pre:!0},[e._v("Submit Transaction")])]),o("LessonImages",{attrs:{imageClasses:"mb",src:"kuka/launch.png",alt:"transaction"}}),o("p",[e._v("In the window with kuka_control package you will see:")]),o("LessonImages",{attrs:{imageClasses:"mb",src:"kuka/res.png",alt:"done"}}),o("p",[e._v("Then go "),o("code",{pre:!0},[e._v("Developer/Chain State")]),e._v(" on the Robonomics portal, select "),o("code",{pre:!0},[e._v("datalog")]),e._v(" and "),o("code",{pre:!0},[e._v("datalogItem((AccountId,u64)): RingBufferItem")]),e._v(" in query and add "),o("code",{pre:!0},[e._v("KUKA")]),e._v(" datalog with button '+':")]),o("LessonImages",{attrs:{imageClasses:"mb",src:"kuka/datalog.png",alt:"datalog"}}),o("p",[e._v("Now you can find robot's telemetry in IPFS via this link with your hash "),o("code",{pre:!0},[e._v("https://gateway.ipfs.io/ipfs/<hash>")]),e._v(".")]),o("h2",{attrs:{id:"troubleshooting"}},[o("a",{attrs:{href:"#troubleshooting","aria-hidden":"true"}},[o("span",{staticClass:"icon icon-link"})]),e._v("Troubleshooting")]),o("p",[e._v("If "),o("code",{pre:!0},[e._v("catkin_make")]),e._v(" doesn't work with the message that it can't find MoveArm.h, try to remove last four lines in CMakeLists.txt in kuka_manipulator_gazebo package:")]),o("LessonCodeWrapper",{attrs:{language:"yaml"}},[e._v("\ninclude_directories(include ${catkin_INCLUDE_DIRS})\nadd_executable(move_arm_server src/move_arm_server.cpp)\ntarget_link_libraries(move_arm_server ${catkin_LIBRARIES})\nadd_dependencies(move_arm_server beginner_tutorials_gencpp)\n\n")]),o("p",[e._v("Do "),o("code",{pre:!0},[e._v("catkin_make")]),e._v(" without these lines, then returm them and do "),o("code",{pre:!0},[e._v("catkin_make")]),e._v(" again.")])],1)}),[],!1,null,null,null);"function"==typeof c&&c(_),"function"==typeof d&&d(_);n.default=_.exports},UQSp:function(e,n,o){"use strict";n.a={name:"VueRemarkRoot",render:function(e){return e("div",null,this.$slots.default)}}}}]);